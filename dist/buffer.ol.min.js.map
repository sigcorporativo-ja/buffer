{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/buffer.html","webpack:///./src/facade/js/vanilla-picker.js","webpack:///./src/impl/ol/js/buffercontrolImpl.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/buffercontrol.js","webpack:///./src/impl/ol/js/bufferLayerImpl.js","webpack:///./src/facade/js/bufferLayer.js","webpack:///./src/index.js","webpack:///./src/facade/js/buffer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","slicedToArray","arr","Array","isArray","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","sliceIterator","String","startsWith","needle","this","indexOf","padStart","len","pad","str","colorNames","cb","tqw","q","qmrn","zr","bg","bsq","bck","nch","b","bvt","brwn","brw","ctb","hrt","chcT","cr","rnw","crns","crms","cn","Db","Dcn","Dgnr","Dgr","Dgrn","Dkhk","Dmgn","Dvgr","Drng","Drch","Dr","Dsmn","Dsgr","DsTb","DsTg","Dtrq","Dvt","ppnk","pskb","mgr","grb","rbrc","rwht","stg","chs","gnsb","st","g","gnr","gr","grn","grnw","hnw","htpn","nnr","ng","vr","khk","vnr","nrb","wngr","mnch","Lb","Lcr","Lcn","Lgnr","Lgr","Lgrn","Lpnk","Lsmn","Lsgr","Lskb","LsTg","Lstb","Lw","mgrn","nn","mgnt","mrn","mqm","mmb","mmrc","mmpr","msg","mmsT","","mtr","mmvt","mnLb","ntc","mstr","mccs","vjw","nv","v","vrb","rng","rngr","rch","pgnr","pgrn","ptrq","pvtr","ppwh","pchp","pr","pnk","pm","pwrb","prp","cc","sbr","rb","sbrw","smn","nbr","sgrn","ssh","snn","svr","skb","sTb","sTgr","snw","stb","tn","thst","tmT","trqs","vt","whT","wht","hts","w","wgrn","printNum","num","decs","arguments","toFixed","replace","toString","Color","a","that","rgba","color","input","_input$match$map","match","map","Number","_input$match$map2","h","_a","hsla","_input$match$map3","_input$match$map4","_r","_g","_b","_a2","hexToRgb","nameToRgb","parseString","toLowerCase","alpha","rgb","slice","vals","x","mults","suff","hsl","hex","substring","_rgba","_hsla","Error","hslToRgb","set","printRGB","rgbToHsl","printHSL","Math","round","join","parseInt","hash","_ref","_ref2","max","min","_ref3","_ref4","hue2rgb","EventBucket","_events","type","handler","addEventListener","filter","e","isMatch","_doRemove","forEach","removeEventListener","dragTrack","eventBucket","area","callback","dragging","clamp","val","onMove","info","starting","preventDefault","bounds","getBoundingClientRect","width","height","clientX","y","clientY","relX","left","relY","top","onMouse","button","buttons","which","onTouch","touches","add","window","EVENT_KEY","$","selector","context","document","querySelector","stopEvent","stopPropagation","onKey","bucket","keys","stop","_style","createElement","textContent","documentElement","firstElementChild","appendChild","Picker","options","settings","popup","layout","editor","editorFormat","cancelButton","defaultColor","onChange","onDone","onOpen","onClose","setOptions","_this","HTMLElement","parent","remove","_popupInited","source","skipKeys","transfer","col","colour","_setColor","openProxy","openHandler","show","style","pointerEvents","toFocus","_domEdit","domElement","setTimeout","focus","event","doHide","knownTime","__containedEvent","timeStamp","hide","open","closeHandler","silent","flags","trim","ex","failSilently","_setHSLA","setColor","toggled","_toggleDOM","_setPosition","htmlString","div","html","template","wrapper","innerHTML","_domH","_domSL","_domA","_domSample","_domOkay","_domCancel","classList","_ifPopup","_updateUI","_bindEvents","destroy","removeChild","_this2","dom","events","addEvent","editInput","fromEditor","selectionStart","selectionEnd","select","popupCloseProxy","timeKeeper","onDoneProxy","elm","parentNode","getComputedStyle","position","cssClass","cssHue","cssHSL","hslString","cssHSLA","hslaString","uiH","uiSL","uiA","thumbH","thumbSL","thumbA","posX","backgroundColor","posY","opaque","transp","backgroundImage","format","printHex","child","actionIf","actionElse","toVisible","displayStyle","toggle","display","factory","buffercontrolImpl_BufferControl","M","impl","Control","[object Object]","getMapImpl","getInteractions","interaction","ol","DoubleClickZoom","dblClickInteraction_","super","addTo","setActive","on","evt","customEvt","CustomEvent","detail","coordinate","bubbles","getContainer","dispatchEvent","Draw","Modify","olFeature","features","olLayer","getSource","deleteCondition","condition","shiftKeyOnly","singleClick","facadeMap_","removeInteraction","setStyle","createStyle","Style","fill","Fill","stroke","Stroke","image","Circle","radius","translations","en","es","getValue","keyPath","lang","res","language","getLang","translation","getTranslation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","buffercontrol_BufferControl","editLayer","featuresEdit","isUndefined","exception","Promise","success","fail","compileSync","templates_buffer_default","vars","tooltip_point","tooltip_line","tooltip_polygon","tooltip_remove","template_","manageDraw_","removeFeatures","isTheSame","getAttribute","manageActivatedDeactivated","manageInteraction_","draw","createNewDrawInteraction","originDraw","originFeature","colorFeature","feature","dialog","minWidth","colorPickBtn","colorPicker","vanilla_picker_default","background","rgbaString","rgbString","btn","inputBuffer","distance","unit","unitBufferM","unitBufferKm","ev","addBuffer_","addInteraction","concat","getArray","isInteractionInstanceOfDrawOrModify","parser","jsts","io","OL3Parser","buffered","read","getGeometry","buffer","setGeometry","write","flag","elements","querySelectorAll","clear","control","BufferLayerImpl","Layer","layerOL","olMap","removeLayer","bufferLayer_BufferLayer","layer","obj","equals","plugin","Buffer","Plugin","map_","controls_","position_","collapsed_","collapsed","collapsible_","collapsible","metadata_","api","metadata","Collection","featureOverlay","Vector","setMap","layerAux","hasLayerBuffer_","bufferLayer","addLayers","control_","panelTools_","ui","Panel","className","collapsedButtonClass","tooltip","addControls","addPanels","removeControls","getImpl","getOL3Layer","aControl","layers","getLayers","name_","BufferLayer","BufferControl"],"mappings":"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","file":"buffer.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = \"<div class=\\\"m-buffer\\\">\\n  <button id=\\\"point\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-check4\\\" title=\\\"{{translations.tooltip_point}}\\\"></button>\\n  <button id=\\\"lineString\\\" data-geometry-type=\\\"LineString\\\" class=\\\"g-cartografia-lineas\\\" title=\\\"{{translations.tooltip_line}}\\\"></button>\\n  <button id=\\\"polygon\\\" data-geometry-type=\\\"Polygon\\\" class=\\\"g-cartografia-poligono\\\" title=\\\"{{translations.tooltip_polygon}}\\\"></button>\\n  <button id=\\\"remove\\\" class=\\\"g-cartografia-papelera\\\" title=\\\"{{translations.tooltip_remove}}\\\"></button>\\n</div>\\n\";","/*!\n * vanilla-picker v2.10.1\n * https://vanilla-picker.js.org\n *\n * Copyright 2017-2019 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)\n * Released under the ISC license.\n */\n/* eslint-disable*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Picker = factory());\n}(this, (function () { 'use strict';\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  String.prototype.startsWith = String.prototype.startsWith || function (needle) {\n      return this.indexOf(needle) === 0;\n  };\n  String.prototype.padStart = String.prototype.padStart || function (len, pad) {\n      var str = this;while (str.length < len) {\n          str = pad + str;\n      }return str;\n  };\n\n  var colorNames = { cb: '0f8ff', tqw: 'aebd7', q: '-ffff', qmrn: '7fffd4', zr: '0ffff', bg: '5f5dc', bsq: 'e4c4', bck: '---', nch: 'ebcd', b: '--ff', bvt: '8a2be2', brwn: 'a52a2a', brw: 'deb887', ctb: '5f9ea0', hrt: '7fff-', chcT: 'd2691e', cr: '7f50', rnw: '6495ed', crns: '8dc', crms: 'dc143c', cn: '-ffff', Db: '--8b', Dcn: '-8b8b', Dgnr: 'b8860b', Dgr: 'a9a9a9', Dgrn: '-64-', Dkhk: 'bdb76b', Dmgn: '8b-8b', Dvgr: '556b2f', Drng: '8c-', Drch: '9932cc', Dr: '8b--', Dsmn: 'e9967a', Dsgr: '8fbc8f', DsTb: '483d8b', DsTg: '2f4f4f', Dtrq: '-ced1', Dvt: '94-d3', ppnk: '1493', pskb: '-bfff', mgr: '696969', grb: '1e90ff', rbrc: 'b22222', rwht: 'af0', stg: '228b22', chs: '-ff', gnsb: 'dcdcdc', st: '8f8ff', g: 'd7-', gnr: 'daa520', gr: '808080', grn: '-8-0', grnw: 'adff2f', hnw: '0fff0', htpn: '69b4', nnr: 'cd5c5c', ng: '4b-82', vr: '0', khk: '0e68c', vnr: 'e6e6fa', nrb: '0f5', wngr: '7cfc-', mnch: 'acd', Lb: 'add8e6', Lcr: '08080', Lcn: 'e0ffff', Lgnr: 'afad2', Lgr: 'd3d3d3', Lgrn: '90ee90', Lpnk: 'b6c1', Lsmn: 'a07a', Lsgr: '20b2aa', Lskb: '87cefa', LsTg: '778899', Lstb: 'b0c4de', Lw: 'e0', m: '-ff-', mgrn: '32cd32', nn: 'af0e6', mgnt: '-ff', mrn: '8--0', mqm: '66cdaa', mmb: '--cd', mmrc: 'ba55d3', mmpr: '9370db', msg: '3cb371', mmsT: '7b68ee', '': '-fa9a', mtr: '48d1cc', mmvt: 'c71585', mnLb: '191970', ntc: '5fffa', mstr: 'e4e1', mccs: 'e4b5', vjw: 'dead', nv: '--80', c: 'df5e6', v: '808-0', vrb: '6b8e23', rng: 'a5-', rngr: '45-', rch: 'da70d6', pgnr: 'eee8aa', pgrn: '98fb98', ptrq: 'afeeee', pvtr: 'db7093', ppwh: 'efd5', pchp: 'dab9', pr: 'cd853f', pnk: 'c0cb', pm: 'dda0dd', pwrb: 'b0e0e6', prp: '8-080', cc: '663399', r: '--', sbr: 'bc8f8f', rb: '4169e1', sbrw: '8b4513', smn: 'a8072', nbr: '4a460', sgrn: '2e8b57', ssh: '5ee', snn: 'a0522d', svr: 'c0c0c0', skb: '87ceeb', sTb: '6a5acd', sTgr: '708090', snw: 'afa', n: '-ff7f', stb: '4682b4', tn: 'd2b48c', t: '-8080', thst: 'd8bfd8', tmT: '6347', trqs: '40e0d0', vt: 'ee82ee', whT: '5deb3', wht: '', hts: '5f5f5', w: '-', wgrn: '9acd32' };\n\n  function printNum(num) {\n      var decs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      var str = decs > 0 ? num.toFixed(decs).replace(/0+$/, '').replace(/\\.$/, '') : num.toString();\n      return str || '0';\n  }\n\n  var Color = function () {\n      function Color(r, g, b, a) {\n          classCallCheck(this, Color);\n\n\n          var that = this;\n          function parseString(input) {\n\n              if (input.startsWith('hsl')) {\n                  var _input$match$map = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                      _input$match$map2 = slicedToArray(_input$match$map, 4),\n                      h = _input$match$map2[0],\n                      s = _input$match$map2[1],\n                      l = _input$match$map2[2],\n                      _a = _input$match$map2[3];\n\n                  if (_a === undefined) {\n                      _a = 1;\n                  }\n\n                  h /= 360;\n                  s /= 100;\n                  l /= 100;\n                  that.hsla = [h, s, l, _a];\n              } else if (input.startsWith('rgb')) {\n                  var _input$match$map3 = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                      _input$match$map4 = slicedToArray(_input$match$map3, 4),\n                      _r = _input$match$map4[0],\n                      _g = _input$match$map4[1],\n                      _b = _input$match$map4[2],\n                      _a2 = _input$match$map4[3];\n\n                  if (_a2 === undefined) {\n                      _a2 = 1;\n                  }\n\n                  that.rgba = [_r, _g, _b, _a2];\n              } else {\n                  if (input.startsWith('#')) {\n                      that.rgba = Color.hexToRgb(input);\n                  } else {\n                      that.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);\n                  }\n              }\n          }\n\n          if (r === undefined) ; else if (Array.isArray(r)) {\n              this.rgba = r;\n          } else if (b === undefined) {\n              var color = r && '' + r;\n              if (color) {\n                  parseString(color.toLowerCase());\n              }\n          } else {\n              this.rgba = [r, g, b, a === undefined ? 1 : a];\n          }\n      }\n\n      createClass(Color, [{\n          key: 'printRGB',\n          value: function printRGB(alpha) {\n              var rgb = alpha ? this.rgba : this.rgba.slice(0, 3),\n                  vals = rgb.map(function (x, i) {\n                  return printNum(x, i === 3 ? 3 : 0);\n              });\n\n              return alpha ? 'rgba(' + vals + ')' : 'rgb(' + vals + ')';\n          }\n      }, {\n          key: 'printHSL',\n          value: function printHSL(alpha) {\n              var mults = [360, 100, 100, 1],\n                  suff = ['', '%', '%', ''];\n\n              var hsl = alpha ? this.hsla : this.hsla.slice(0, 3),\n                  vals = hsl.map(function (x, i) {\n                  return printNum(x * mults[i], i === 3 ? 3 : 1) + suff[i];\n              });\n\n              return alpha ? 'hsla(' + vals + ')' : 'hsl(' + vals + ')';\n          }\n      }, {\n          key: 'printHex',\n          value: function printHex(alpha) {\n              var hex = this.hex;\n              return alpha ? hex : hex.substring(0, 7);\n          }\n      }, {\n          key: 'rgba',\n          get: function get$$1() {\n              if (this._rgba) {\n                  return this._rgba;\n              }\n              if (!this._hsla) {\n                  throw new Error('No color is set');\n              }\n\n              return this._rgba = Color.hslToRgb(this._hsla);\n          },\n          set: function set$$1(rgb) {\n              if (rgb.length === 3) {\n                  rgb[3] = 1;\n              }\n\n              this._rgba = rgb;\n              this._hsla = null;\n          }\n      }, {\n          key: 'rgbString',\n          get: function get$$1() {\n              return this.printRGB();\n          }\n      }, {\n          key: 'rgbaString',\n          get: function get$$1() {\n              return this.printRGB(true);\n          }\n      }, {\n          key: 'hsla',\n          get: function get$$1() {\n              if (this._hsla) {\n                  return this._hsla;\n              }\n              if (!this._rgba) {\n                  throw new Error('No color is set');\n              }\n\n              return this._hsla = Color.rgbToHsl(this._rgba);\n          },\n          set: function set$$1(hsl) {\n              if (hsl.length === 3) {\n                  hsl[3] = 1;\n              }\n\n              this._hsla = hsl;\n              this._rgba = null;\n          }\n      }, {\n          key: 'hslString',\n          get: function get$$1() {\n              return this.printHSL();\n          }\n      }, {\n          key: 'hslaString',\n          get: function get$$1() {\n              return this.printHSL(true);\n          }\n      }, {\n          key: 'hex',\n          get: function get$$1() {\n              var rgb = this.rgba,\n                  hex = rgb.map(function (x, i) {\n                  return i < 3 ? x.toString(16) : Math.round(x * 255).toString(16);\n              });\n\n              return '#' + hex.map(function (x) {\n                  return x.padStart(2, '0');\n              }).join('');\n          },\n          set: function set$$1(hex) {\n              this.rgba = Color.hexToRgb(hex);\n          }\n      }], [{\n          key: 'hexToRgb',\n          value: function hexToRgb(input) {\n\n              var hex = (input.startsWith('#') ? input.slice(1) : input).replace(/^(\\w{3})$/, '$1F').replace(/^(\\w)(\\w)(\\w)(\\w)$/, '$1$1$2$2$3$3$4$4').replace(/^(\\w{6})$/, '$1FF');\n\n              if (!hex.match(/^([0-9a-fA-F]{8})$/)) {\n                  throw new Error('Unknown hex color; ' + input);\n              }\n\n              var rgba = hex.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1).map(function (x) {\n                  return parseInt(x, 16);\n              });\n\n              rgba[3] = rgba[3] / 255;\n              return rgba;\n          }\n      }, {\n          key: 'nameToRgb',\n          value: function nameToRgb(input) {\n\n              var hash = input.toLowerCase().replace('at', 'T').replace(/[aeiouyldf]/g, '').replace('ght', 'L').replace('rk', 'D').slice(-5, 4),\n                  hex = colorNames[hash];\n              return hex === undefined ? hex : Color.hexToRgb(hex.replace(/\\-/g, '00').padStart(6, 'f'));\n          }\n      }, {\n          key: 'rgbToHsl',\n          value: function rgbToHsl(_ref) {\n              var _ref2 = slicedToArray(_ref, 4),\n                  r = _ref2[0],\n                  g = _ref2[1],\n                  b = _ref2[2],\n                  a = _ref2[3];\n\n              r /= 255;\n              g /= 255;\n              b /= 255;\n\n              var max = Math.max(r, g, b),\n                  min = Math.min(r, g, b);\n              var h = void 0,\n                  s = void 0,\n                  l = (max + min) / 2;\n\n              if (max === min) {\n                  h = s = 0;\n              } else {\n                  var d = max - min;\n                  s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                  switch (max) {\n                      case r:\n                          h = (g - b) / d + (g < b ? 6 : 0);break;\n                      case g:\n                          h = (b - r) / d + 2;break;\n                      case b:\n                          h = (r - g) / d + 4;break;\n                  }\n\n                  h /= 6;\n              }\n\n              return [h, s, l, a];\n          }\n      }, {\n          key: 'hslToRgb',\n          value: function hslToRgb(_ref3) {\n              var _ref4 = slicedToArray(_ref3, 4),\n                  h = _ref4[0],\n                  s = _ref4[1],\n                  l = _ref4[2],\n                  a = _ref4[3];\n\n              var r = void 0,\n                  g = void 0,\n                  b = void 0;\n\n              if (s === 0) {\n                  r = g = b = l;\n              } else {\n                  var hue2rgb = function hue2rgb(p, q, t) {\n                      if (t < 0) t += 1;\n                      if (t > 1) t -= 1;\n                      if (t < 1 / 6) return p + (q - p) * 6 * t;\n                      if (t < 1 / 2) return q;\n                      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n                      return p;\n                  };\n\n                  var q = l < 0.5 ? l * (1 + s) : l + s - l * s,\n                      p = 2 * l - q;\n\n                  r = hue2rgb(p, q, h + 1 / 3);\n                  g = hue2rgb(p, q, h);\n                  b = hue2rgb(p, q, h - 1 / 3);\n              }\n\n              var rgba = [r * 255, g * 255, b * 255].map(Math.round);\n              rgba[3] = a;\n\n              return rgba;\n          }\n      }]);\n      return Color;\n  }();\n\n  var EventBucket = function () {\n      function EventBucket() {\n          classCallCheck(this, EventBucket);\n\n          this._events = [];\n      }\n\n      createClass(EventBucket, [{\n          key: 'add',\n          value: function add(target, type, handler) {\n              target.addEventListener(type, handler, false);\n              this._events.push({\n                  target: target,\n                  type: type,\n                  handler: handler\n              });\n          }\n      }, {\n          key: 'remove',\n          value: function remove(target, type, handler) {\n              this._events = this._events.filter(function (e) {\n                  var isMatch = true;\n                  if (target && target !== e.target) {\n                      isMatch = false;\n                  }\n                  if (type && type !== e.type) {\n                      isMatch = false;\n                  }\n                  if (handler && handler !== e.handler) {\n                      isMatch = false;\n                  }\n\n                  if (isMatch) {\n                      EventBucket._doRemove(e.target, e.type, e.handler);\n                  }\n                  return !isMatch;\n              });\n          }\n      }, {\n          key: 'destroy',\n          value: function destroy() {\n              this._events.forEach(function (e) {\n                  return EventBucket._doRemove(e.target, e.type, e.handler);\n              });\n              this._events = [];\n          }\n      }], [{\n          key: '_doRemove',\n          value: function _doRemove(target, type, handler) {\n              target.removeEventListener(type, handler, false);\n          }\n      }]);\n      return EventBucket;\n  }();\n\n  function parseHTML(htmlString) {\n\n      var div = document.createElement('div');\n      div.innerHTML = htmlString;\n      return div.firstElementChild;\n  }\n\n  function dragTrack(eventBucket, area, callback) {\n      var dragging = false;\n\n      function clamp(val, min, max) {\n          return Math.max(min, Math.min(val, max));\n      }\n\n      function onMove(e, info, starting) {\n          if (starting) {\n              dragging = true;\n          }\n          if (!dragging) {\n              return;\n          }\n\n          e.preventDefault();\n\n          var bounds = area.getBoundingClientRect(),\n              w = bounds.width,\n              h = bounds.height,\n              x = info.clientX,\n              y = info.clientY;\n\n          var relX = clamp(x - bounds.left, 0, w),\n              relY = clamp(y - bounds.top, 0, h);\n\n          callback(relX / w, relY / h);\n      }\n\n      function onMouse(e, starting) {\n          var button = e.buttons === undefined ? e.which : e.buttons;\n          if (button === 1) {\n              onMove(e, e, starting);\n          } else {\n              dragging = false;\n          }\n      }\n\n      function onTouch(e, starting) {\n          if (e.touches.length === 1) {\n              onMove(e, e.touches[0], starting);\n          } else {\n              dragging = false;\n          }\n      }\n\n      eventBucket.add(area, 'mousedown', function (e) {\n          onMouse(e, true);\n      });\n      eventBucket.add(area, 'touchstart', function (e) {\n          onTouch(e, true);\n      });\n      eventBucket.add(window, 'mousemove', onMouse);\n      eventBucket.add(area, 'touchmove', onTouch);\n      eventBucket.add(window, 'mouseup', function (e) {\n          dragging = false;\n      });\n      eventBucket.add(area, 'touchend', function (e) {\n          dragging = false;\n      });\n      eventBucket.add(area, 'touchcancel', function (e) {\n          dragging = false;\n      });\n  }\n\n  var BG_TRANSP = 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\")';\n  var HUES = 360;\n\n  var EVENT_KEY = 'keydown',\n      EVENT_CLICK_OUTSIDE = 'mousedown',\n      EVENT_TAB_MOVE = 'focusin';\n\n  function $(selector, context) {\n      return (context || document).querySelector(selector);\n  }\n\n  function stopEvent(e) {\n\n      e.preventDefault();\n      e.stopPropagation();\n  }\n  function onKey(bucket, target, keys, handler, stop) {\n      bucket.add(target, EVENT_KEY, function (e) {\n          if (keys.indexOf(e.key) >= 0) {\n              if (stop) {\n                  stopEvent(e);\n              }\n              handler(e);\n          }\n      });\n  }\n\n  var _style = document.createElement('style');\n  _style.textContent = '.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:\\'\\';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:\\'\\';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:\\'\\';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}';\n  document.documentElement.firstElementChild.appendChild(_style);\n\n  var Picker = function () {\n      function Picker(options) {\n          classCallCheck(this, Picker);\n\n\n          this.settings = {\n\n              popup: 'right',\n              layout: 'default',\n              alpha: true,\n              editor: true,\n              editorFormat: 'hex',\n              cancelButton: false,\n              defaultColor: '#0cf'\n          };\n\n          this._events = new EventBucket();\n\n          this.onChange = null;\n\n          this.onDone = null;\n\n          this.onOpen = null;\n\n          this.onClose = null;\n\n          this.setOptions(options);\n      }\n\n      createClass(Picker, [{\n          key: 'setOptions',\n          value: function setOptions(options) {\n              var _this = this;\n\n              if (!options) {\n                  return;\n              }\n              var settings = this.settings;\n\n              function transfer(source, target, skipKeys) {\n                  for (var key in source) {\n                      if (skipKeys && skipKeys.indexOf(key) >= 0) {\n                          continue;\n                      }\n\n                      target[key] = source[key];\n                  }\n              }\n\n              if (options instanceof HTMLElement) {\n                  settings.parent = options;\n              } else {\n\n                  if (settings.parent && options.parent && settings.parent !== options.parent) {\n                      this._events.remove(settings.parent);\n                      this._popupInited = false;\n                  }\n\n                  transfer(options, settings);\n\n                  if (options.onChange) {\n                      this.onChange = options.onChange;\n                  }\n                  if (options.onDone) {\n                      this.onDone = options.onDone;\n                  }\n                  if (options.onOpen) {\n                      this.onOpen = options.onOpen;\n                  }\n                  if (options.onClose) {\n                      this.onClose = options.onClose;\n                  }\n\n                  var col = options.color || options.colour;\n                  if (col) {\n                      this._setColor(col);\n                  }\n              }\n\n              var parent = settings.parent;\n              if (parent && settings.popup && !this._popupInited) {\n\n                  var openProxy = function openProxy(e) {\n                      return _this.openHandler(e);\n                  };\n\n                  this._events.add(parent, 'click', openProxy);\n\n                  onKey(this._events, parent, [' ', 'Spacebar', 'Enter'], openProxy);\n\n                  this._popupInited = true;\n              } else if (options.parent && !settings.popup) {\n                  this.show();\n              }\n          }\n      }, {\n          key: 'openHandler',\n          value: function openHandler(e) {\n              if (this.show()) {\n\n                  e && e.preventDefault();\n\n                  this.settings.parent.style.pointerEvents = 'none';\n\n                  var toFocus = e && e.type === EVENT_KEY ? this._domEdit : this.domElement;\n                  setTimeout(function () {\n                      return toFocus.focus();\n                  }, 100);\n\n                  if (this.onOpen) {\n                      this.onOpen(this.colour);\n                  }\n              }\n          }\n      }, {\n          key: 'closeHandler',\n          value: function closeHandler(e) {\n              var event = e && e.type;\n              var doHide = false;\n\n              if (!e) {\n                  doHide = true;\n              } else if (event === EVENT_CLICK_OUTSIDE || event === EVENT_TAB_MOVE) {\n\n                  var knownTime = (this.__containedEvent || 0) + 100;\n                  if (e.timeStamp > knownTime) {\n                      doHide = true;\n                  }\n              } else {\n\n                  stopEvent(e);\n\n                  doHide = true;\n              }\n\n              if (doHide && this.hide()) {\n                  this.settings.parent.style.pointerEvents = '';\n\n                  if (event !== EVENT_CLICK_OUTSIDE) {\n                      this.settings.parent.focus();\n                  }\n\n                  if (this.onClose) {\n                      this.onClose(this.colour);\n                  }\n              }\n          }\n      }, {\n          key: 'movePopup',\n          value: function movePopup(options, open) {\n\n              this.closeHandler();\n\n              this.setOptions(options);\n              if (open) {\n                  this.openHandler();\n              }\n          }\n      }, {\n          key: 'setColor',\n          value: function setColor(color, silent) {\n              this._setColor(color, { silent: silent });\n          }\n      }, {\n          key: '_setColor',\n          value: function _setColor(color, flags) {\n              if (typeof color === 'string') {\n                  color = color.trim();\n              }\n              if (!color) {\n                  return;\n              }\n\n              flags = flags || {};\n              var c = void 0;\n              try {\n\n                  c = new Color(color);\n              } catch (ex) {\n                  if (flags.failSilently) {\n                      return;\n                  }\n                  throw ex;\n              }\n\n              if (!this.settings.alpha) {\n                  var hsla = c.hsla;\n                  hsla[3] = 1;\n                  c.hsla = hsla;\n              }\n              this.colour = this.color = c;\n              this._setHSLA(null, null, null, null, flags);\n          }\n      }, {\n          key: 'setColour',\n          value: function setColour(colour, silent) {\n              this.setColor(colour, silent);\n          }\n      }, {\n          key: 'show',\n          value: function show() {\n              var parent = this.settings.parent;\n              if (!parent) {\n                  return false;\n              }\n\n              if (this.domElement) {\n                  var toggled = this._toggleDOM(true);\n\n                  this._setPosition();\n\n                  return toggled;\n              }\n\n              var html = this.settings.template || '<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div><div class=\"picker_cancel\"><button>Cancel</button></div></div>';\n              var wrapper = parseHTML(html);\n\n              this.domElement = wrapper;\n              this._domH = $('.picker_hue', wrapper);\n              this._domSL = $('.picker_sl', wrapper);\n              this._domA = $('.picker_alpha', wrapper);\n              this._domEdit = $('.picker_editor input', wrapper);\n              this._domSample = $('.picker_sample', wrapper);\n              this._domOkay = $('.picker_done button', wrapper);\n              this._domCancel = $('.picker_cancel button', wrapper);\n\n              wrapper.classList.add('layout_' + this.settings.layout);\n              if (!this.settings.alpha) {\n                  wrapper.classList.add('no_alpha');\n              }\n              if (!this.settings.editor) {\n                  wrapper.classList.add('no_editor');\n              }\n              if (!this.settings.cancelButton) {\n                  wrapper.classList.add('no_cancel');\n              }\n              this._ifPopup(function () {\n                  return wrapper.classList.add('popup');\n              });\n\n              this._setPosition();\n\n              if (this.colour) {\n                  this._updateUI();\n              } else {\n                  this._setColor(this.settings.defaultColor);\n              }\n              this._bindEvents();\n\n              return true;\n          }\n      }, {\n          key: 'hide',\n          value: function hide() {\n              return this._toggleDOM(false);\n          }\n      }, {\n          key: 'destroy',\n          value: function destroy() {\n              this._events.destroy();\n              if (this.domElement) {\n                  this.settings.parent.removeChild(this.domElement);\n              }\n          }\n      }, {\n          key: '_bindEvents',\n          value: function _bindEvents() {\n              var _this2 = this;\n\n              var that = this,\n                  dom = this.domElement,\n                  events = this._events;\n\n              function addEvent(target, type, handler) {\n                  events.add(target, type, handler);\n              }\n\n              addEvent(dom, 'click', function (e) {\n                  return e.preventDefault();\n              });\n\n              dragTrack(events, this._domH, function (x, y) {\n                  return that._setHSLA(x);\n              });\n\n              dragTrack(events, this._domSL, function (x, y) {\n                  return that._setHSLA(null, x, 1 - y);\n              });\n\n              if (this.settings.alpha) {\n                  dragTrack(events, this._domA, function (x, y) {\n                      return that._setHSLA(null, null, null, 1 - y);\n                  });\n              }\n\n              var editInput = this._domEdit;\n              {\n                  addEvent(editInput, 'input', function (e) {\n                      that._setColor(this.value, { fromEditor: true, failSilently: true });\n                  });\n\n                  addEvent(editInput, 'focus', function (e) {\n                      var input = this;\n\n                      if (input.selectionStart === input.selectionEnd) {\n                          input.select();\n                      }\n                  });\n              }\n\n              this._ifPopup(function () {\n\n                  var popupCloseProxy = function popupCloseProxy(e) {\n                      return _this2.closeHandler(e);\n                  };\n\n                  addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);\n                  addEvent(window, EVENT_TAB_MOVE, popupCloseProxy);\n                  onKey(events, dom, ['Esc', 'Escape'], popupCloseProxy);\n\n                  var timeKeeper = function timeKeeper(e) {\n                      _this2.__containedEvent = e.timeStamp;\n                  };\n                  addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);\n\n                  addEvent(dom, EVENT_TAB_MOVE, timeKeeper);\n\n                  addEvent(_this2._domCancel, 'click', popupCloseProxy);\n              });\n\n              var onDoneProxy = function onDoneProxy(e) {\n                  _this2._ifPopup(function () {\n                      return _this2.closeHandler(e);\n                  });\n                  if (_this2.onDone) {\n                      _this2.onDone(_this2.colour);\n                  }\n              };\n              addEvent(this._domOkay, 'click', onDoneProxy);\n              onKey(events, dom, ['Enter'], onDoneProxy);\n          }\n      }, {\n          key: '_setPosition',\n          value: function _setPosition() {\n              var parent = this.settings.parent,\n                  elm = this.domElement;\n\n              if (parent !== elm.parentNode) {\n                  parent.appendChild(elm);\n              }\n\n              this._ifPopup(function (popup) {\n\n                  if (getComputedStyle(parent).position === 'static') {\n                      parent.style.position = 'relative';\n                  }\n\n                  var cssClass = popup === true ? 'popup_right' : 'popup_' + popup;\n\n                  ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(function (c) {\n\n                      if (c === cssClass) {\n                          elm.classList.add(c);\n                      } else {\n                          elm.classList.remove(c);\n                      }\n                  });\n\n                  elm.classList.add(cssClass);\n              });\n          }\n      }, {\n          key: '_setHSLA',\n          value: function _setHSLA(h, s, l, a, flags) {\n              flags = flags || {};\n\n              var col = this.colour,\n                  hsla = col.hsla;\n\n              [h, s, l, a].forEach(function (x, i) {\n                  if (x || x === 0) {\n                      hsla[i] = x;\n                  }\n              });\n              col.hsla = hsla;\n\n              this._updateUI(flags);\n\n              if (this.onChange && !flags.silent) {\n                  this.onChange(col);\n              }\n          }\n      }, {\n          key: '_updateUI',\n          value: function _updateUI(flags) {\n              if (!this.domElement) {\n                  return;\n              }\n              flags = flags || {};\n\n              var col = this.colour,\n                  hsl = col.hsla,\n                  cssHue = 'hsl(' + hsl[0] * HUES + ', 100%, 50%)',\n                  cssHSL = col.hslString,\n                  cssHSLA = col.hslaString;\n\n              var uiH = this._domH,\n                  uiSL = this._domSL,\n                  uiA = this._domA,\n                  thumbH = $('.picker_selector', uiH),\n                  thumbSL = $('.picker_selector', uiSL),\n                  thumbA = $('.picker_selector', uiA);\n\n              function posX(parent, child, relX) {\n                  child.style.left = relX * 100 + '%';\n              }\n              function posY(parent, child, relY) {\n                  child.style.top = relY * 100 + '%';\n              }\n\n              posX(uiH, thumbH, hsl[0]);\n\n              this._domSL.style.backgroundColor = this._domH.style.color = cssHue;\n\n              posX(uiSL, thumbSL, hsl[1]);\n              posY(uiSL, thumbSL, 1 - hsl[2]);\n\n              uiSL.style.color = cssHSL;\n\n              posY(uiA, thumbA, 1 - hsl[3]);\n\n              var opaque = cssHSL,\n                  transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),\n                  bg = 'linear-gradient(' + [opaque, transp] + ')';\n\n              this._domA.style.backgroundImage = bg + ', ' + BG_TRANSP;\n\n              if (!flags.fromEditor) {\n                  var format = this.settings.editorFormat,\n                      alpha = this.settings.alpha;\n\n                  var value = void 0;\n                  switch (format) {\n                      case 'rgb':\n                          value = col.printRGB(alpha);break;\n                      case 'hsl':\n                          value = col.printHSL(alpha);break;\n                      default:\n                          value = col.printHex(alpha);\n                  }\n                  this._domEdit.value = value;\n              }\n\n              this._domSample.style.color = cssHSLA;\n          }\n      }, {\n          key: '_ifPopup',\n          value: function _ifPopup(actionIf, actionElse) {\n              if (this.settings.parent && this.settings.popup) {\n                  actionIf && actionIf(this.settings.popup);\n              } else {\n                  actionElse && actionElse();\n              }\n          }\n      }, {\n          key: '_toggleDOM',\n          value: function _toggleDOM(toVisible) {\n              var dom = this.domElement;\n              if (!dom) {\n                  return false;\n              }\n\n              var displayStyle = toVisible ? '' : 'none',\n                  toggle = dom.style.display !== displayStyle;\n\n              if (toggle) {\n                  dom.style.display = displayStyle;\n              }\n              return toggle;\n          }\n      }], [{\n          key: 'StyleElement',\n          get: function get$$1() {\n              return _style;\n          }\n      }]);\n      return Picker;\n  }();\n\n  return Picker;\n\n})));\n","/**\n * @module M/impl/control/BufferControl\n */\nexport default class BufferControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // obtengo la interaccin por defecto del dblclick para manejarla\n    const olMap = map.getMapImpl();\n    olMap.getInteractions().forEach((interaction) => {\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\n        this.dblClickInteraction_ = interaction;\n      }\n    });\n\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  // Add your own functions\n  activateClick(map) {\n    // desactivo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(false);\n\n    // aado un listener al evento dblclick\n    const olMap = map.getMapImpl();\n    olMap.on('dblclick', (evt) => {\n      // disparo un custom event con las coordenadas del dobleclick\n      const customEvt = new CustomEvent('mapclicked', {\n        detail: evt.coordinate,\n        bubbles: true,\n      });\n      map.getContainer().dispatchEvent(customEvt);\n    });\n  }\n\n  deactivateClick(map) {\n    // activo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(true);\n\n    // elimino el listener del evento\n    map.getMapImpl().removeEventListener('dblclick');\n  }\n\n  /**\n   * This function checks if an interaction is\n   * an instance of Draw or Modify\n   */\n  isInteractionInstanceOfDrawOrModify(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Draw object\n   * @param {*} features\n   * @param {*} type\n   */\n  createNewDrawInteraction(olFeature, type) {\n    return new ol.interaction.Draw({\n      features: olFeature,\n      type,\n    });\n  }\n\n  /**\n   * This function creates a new ol.interaction.Modify object\n   * @param {*} features\n   */\n  createNewModifyInteraction(olLayer) {\n    return new ol.interaction.Modify({\n      source: olLayer.getSource(),\n      deleteCondition: (event) => {\n        return ol.events.condition.shiftKeyOnly(event) &&\n          ol.events.condition.singleClick(event);\n      },\n    });\n  }\n\n  removeInteraction(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      this.facadeMap_.getMapImpl().removeInteraction(interaction);\n    }\n  }\n\n  setStyle(color, olFeature) {\n    if (olFeature) {\n      olFeature.setStyle(this.createStyle(color));\n    }\n  }\n\n  createStyle(color) {\n    return new ol.style.Style({\n      fill: new ol.style.Fill({ color: color.replace(')', ', 0.2)') }),\n      stroke: new ol.style.Stroke({ color, width: 3 }),\n      image: new ol.style.Circle({\n        radius: 7,\n        fill: new ol.style.Fill({ color }),\n      }),\n    });\n  }\n}\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","import template from 'templates/buffer';\nimport BufferControlImpl from 'impl/buffercontrolImpl';\nimport Picker from './vanilla-picker';\nimport { getValue } from './i18n/language';\n\nexport default class BufferControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a influenceareaControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(editLayer, featuresEdit) {\n    const impl = new BufferControlImpl();\n    super(impl, 'buffer');\n    this.impl = impl;\n    this.editLayer = editLayer;\n\n    this.featuresEdit = featuresEdit;\n\n    // 1. checks if the implementation can create influenceareaControl\n    if (M.utils.isUndefined(BufferControlImpl)) {\n      M.exception(getValue('exception_control'));\n    }\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    this.facadeMap_ = map;\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template, {\n        vars: {\n          translations: {\n            tooltip_point: getValue('tooltip_point'),\n            tooltip_line: getValue('tooltip_line'),\n            tooltip_polygon: getValue('tooltip_polygon'),\n            tooltip_remove: getValue('tooltip_remove'),\n          },\n        },\n      });\n      this.template_ = html;\n      this.template_.querySelector('#point').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#polygon').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#lineString').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#remove').addEventListener('click', e => this.removeFeatures(e));\n      success(html);\n    });\n  }\n\n  /**\n   * Add or remove interaction to draw in map\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  manageDraw_(evt) {\n    let isTheSame = false;\n    const value = evt.target.getAttribute('data-geometry-type');\n    isTheSame = this.manageActivatedDeactivated(evt.target);\n    evt.target.classList.add('activated');\n    this.manageInteraction_(false, null, null);\n    if (!isTheSame) {\n      const draw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      const originDraw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      let colorFeature = 'rgb(48, 169, 146)';\n      let originFeature;\n      originDraw.on('drawend', (event) => {\n        originFeature = event.feature;\n      });\n      draw.on('drawend', (e) => {\n        M.dialog.info(\n          `<div id=\"chooseBuffer\">\n            <div id=\"colorPick\"></div>\n            <input type=\"number\" id=\"metreBuffer\" value=\"50\" style=\"width: 10rem;\">\n            <div style=\"padding-top: 0.5rem;text-align: center;\">\n              <input type=\"radio\" name=\"unit\" id=\"metro\" value=\"m\" checked=\"checked\"/>\n              <label for=\"metro\">${getValue('unit_m')}</label>\n              <input type=\"radio\" name=\"unit\" id=\"kilometro\" value=\"km\"/>\n              <label for=\"kilometro\">${getValue('unit_km')}</label>\n            </div>\n          </div>`,\n          getValue('title_popup'),\n        );\n        const dialog = document.querySelector('.m-dialog > div.m-modal > div.m-content');\n        dialog.style.minWidth = 'auto';\n        const title = document.querySelector('.m-modal .m-title');\n        title.style.backgroundColor = 'rgb(48, 169, 146)';\n        const colorPickBtn = document.querySelector('div#colorPick');\n        const colorPicker = new Picker({\n          parent: colorPickBtn,\n          popup: 'bottom',\n          alpha: false,\n          color: 'rgb(48, 169, 146)',\n          editor: false,\n          onChange: (color) => {\n            colorPickBtn.style.background = color.rgbaString;\n            colorFeature = color.rgbString;\n          },\n        });\n        colorPickBtn.addEventListener('click', () => {\n          colorPicker.show();\n        });\n        const btn = document.querySelector('.m-button button');\n        const inputBuffer = document.querySelector('div.m-modal input#metreBuffer');\n        let distance = 50;\n        inputBuffer.addEventListener('keyup', () => {\n          distance = inputBuffer.value;\n          btn.style.pointerEvents = document.querySelector('div.m-modal input#metreBuffer:invalid') === null ? 'initial' : 'none';\n        });\n        inputBuffer.addEventListener('keydown', () => {\n          btn.style.pointerEvents = document.querySelector('div.m-modal input#metreBuffer:invalid') === null ? 'initial' : 'none';\n        });\n        let unit = 1;\n        const unitBufferM = document.querySelector('div.m-modal input#metro');\n        const unitBufferKm = document.querySelector('div.m-modal input#kilometro');\n        unitBufferM.addEventListener('change', () => { unit = 1; });\n        unitBufferKm.addEventListener('change', () => { unit = 1000; });\n        btn.style.backgroundColor = 'rgb(48, 169, 146)';\n        btn.addEventListener('click', (ev) => {\n          this.impl.setStyle(colorFeature, originFeature);\n          this.impl.setStyle(colorFeature, e.feature);\n          this.manageInteraction_(false, null, null);\n          this.addBuffer_(e.feature, (distance * unit), evt.target);\n        });\n      });\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n      this.facadeMap_.getMapImpl().addInteraction(originDraw);\n    }\n    isTheSame = false;\n  }\n\n  manageInteraction_(add, featuresEdit, value) {\n    const evt = window.event;\n    if (!add) {\n      const arrayInteractions = [].concat(this.facadeMap_.getMapImpl()\n        .getInteractions().getArray());\n      arrayInteractions.forEach((interaction) => {\n        if (this.impl.isInteractionInstanceOfDrawOrModify(interaction)) {\n          this.facadeMap_.getMapImpl().removeInteraction(interaction);\n        }\n      });\n    } else {\n      const draw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      draw.on('drawend', (e) => {\n        const arrayInteractions = [].concat(this.facadeMap_.getMapImpl()\n          .getInteractions().getArray());\n        arrayInteractions.forEach((interaction) => {\n          if (this.impl.isInteractionInstanceOfDrawOrModify(interaction)) {\n            this.facadeMap_.getMapImpl().removeInteraction(interaction);\n          }\n        });\n        const inputBuffer = document.querySelector('input#metreBuffer');\n        if (inputBuffer) {\n          const distance = inputBuffer.value;\n          this.addBuffer_(e.feature, distance, evt.target);\n        }\n      });\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n    }\n  }\n\n\n  /**\n   * Get feature and create buffer\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  addBuffer_(feature, distance, target) {\n    const parser = new jsts.io.OL3Parser();\n    const jstsGeom = parser.read(feature.getGeometry());\n    const buffered = jstsGeom.buffer(parseInt(distance, 10));\n    feature.setGeometry(parser.write(buffered));\n    this.manageActivatedDeactivated(target);\n  }\n\n\n  /**\n   * Manage which features has to activated or deactivated\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  manageActivatedDeactivated(target) {\n    let flag = false;\n    const elements = document.querySelectorAll('div.m-buffer button.activated');\n    if (elements && elements != null && elements.length && elements.length > 0) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        elementAux.classList.remove('activated');\n        flag = true;\n      }\n    }\n    return flag;\n  }\n\n\n  /**\n   * Remove all features and deactivated all tools\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  removeFeatures() {\n    this.editLayer.getSource().clear();\n    const elements = document.querySelectorAll('div.m-buffer button.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        elementAux.classList.remove('activated');\n      }\n    }\n    this.manageInteraction_(false, null, null);\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof BufferControl;\n  }\n}\n","export default class BufferLayerImpl extends M.impl.Layer {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a KML layer\n   * with parameters specified by the user\n   *\n   * @constructor\n   * @implements {M.impl.Layer}\n   * @param {Mx.parameters.LayerOptions} options custom options for this layer\n   * @api stable\n   */\n  constructor(layerOL) {\n    super();\n\n    this.layerOL = layerOL;\n  }\n\n  /**\n   * This function sets the map object of the layer\n   *\n   * @public\n   * @function\n   * @param {M.impl.Map} map\n   * @api stable\n   */\n  addTo(map) {\n    this.map = map;\n  }\n\n  destroy() {\n    const olMap = this.map.getMapImpl();\n\n    if (!M.utils.isNullOrEmpty(this.layerOL)) {\n      olMap.removeLayer(this.layerOL);\n      this.layerOL = null;\n    }\n    this.map = null;\n  }\n}\n","/**\n * @module M/layer/BufferLayer\n */\n\nimport BufferLayerImpl from 'impl/bufferLayerImpl';\nimport { getValue } from './i18n/language';\n\nexport default class BufferLayer extends M.Layer {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a Draw layer\n   * with parameters specified by the user\n   *\n   * @constructor\n   * @extends {M.Layer}\n   * @api stable\n   */\n  constructor(layer) {\n    const impl = new BufferLayerImpl(layer);\n\n    super({}, impl);\n\n    // checks if the implementation can create KML layers\n    if (M.utils.isUndefined(BufferLayerImpl)) {\n      M.exception(getValue('exception_layer'));\n    }\n\n    this.layer = layer;\n\n    this.type = 'BufferLayer';\n    this.name = 'Buffer';\n  }\n\n  /**\n   * This function checks if an object is equals\n   * to this layer\n   *\n   * @function\n   * @api\n   */\n  equals(obj) {\n    let equals = false;\n\n    if (obj instanceof BufferLayer) {\n      equals = this.name === obj.name;\n    }\n\n    return equals;\n  }\n}\n","import M$plugin$Buffer from './/facade/js/buffer';\nimport M$layer$BufferLayer from './/facade/js/bufferLayer';\nimport M$impl$control$BufferControl from './/impl/ol/js/buffercontrolImpl';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.layer) window.M.layer = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Buffer = M$plugin$Buffer;\nwindow.M.layer.BufferLayer = M$layer$BufferLayer;\nwindow.M.impl.control.BufferControl = M$impl$control$BufferControl;\n","/**\n * @module M/plugin/Buffer\n */\n\nimport 'assets/css/buffer';\nimport BufferControl from './buffercontrol';\nimport BufferLayer from './bufferLayer';\nimport api from '../../api';\nimport { getValue } from './i18n/language';\n\nexport default class Buffer extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the Plugin\n     * Posible values: TR | TL | BL | BR\n     * @type {Enum}\n     */\n    this.position_ = options.position || 'TL';\n\n    /**\n     * Option to allow the plugin to be collapsed or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsed_ = options.collapsed;\n    if (this.collapsed_ === undefined) this.collapsed_ = true;\n\n    /**\n     * Option to allow the plugin to be collapsible or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsible_ = options.collapsible;\n    if (this.collapsible_ === undefined) this.collapsible_ = true;\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    this.featuresEdit = new ol.Collection();\n    this.featureOverlay = new ol.layer.Vector({\n      source: new ol.source.Vector({ name: 'bufferLayer', features: this.featuresEdit }),\n      style: new ol.style.Style({\n        fill: new ol.style.Fill({ color: 'rgba(255, 255, 0, 0.2)' }),\n        stroke: new ol.style.Stroke({ color: 'rgb(48, 169, 146)', width: 3 }),\n        image: new ol.style.Circle({\n          radius: 7,\n          fill: new ol.style.Fill({ color: 'rgb(48, 169, 146)' }),\n        }),\n      }),\n    });\n    this.featureOverlay.setMap(this.map_.getMapImpl());\n\n    const layerAux = this.hasLayerBuffer_();\n    if (layerAux == null) {\n      this.bufferLayer = new BufferLayer(this.featureOverlay);\n      this.map_.addLayers(this.bufferLayer);\n    } else {\n      this.bufferLayer = layerAux;\n    }\n\n    this.control_ = new BufferControl(this.featureOverlay, this.featuresEdit);\n\n    this.panelTools_ = new M.ui.Panel('buffer', {\n      collapsed: this.collapsed_,\n      collapsible: this.collapsible_,\n      className: 'm-buffer',\n      collapsedButtonClass: 'g-cartografia-gps3',\n      position: M.ui.position[this.position_],\n      tooltip: getValue('tooltip'),\n    });\n    this.panelTools_.addControls(this.control_);\n    this.map_.addPanels(this.panelTools_);\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.map_.removeControls(this.control_);\n    if (this.bufferLayer.getImpl().getOL3Layer()) {\n      this.bufferLayer.getImpl().getOL3Layer().getSource().clear(true);\n    }\n    this.control_.removeFeatures();\n    this.map_ = null;\n    this.control_ = null;\n    this.panelTools_ = null;\n    this.featuresEdit = null;\n    this.featureOverlay = null;\n  }\n\n  /**\n   * This function return the control of plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getControls() {\n    const aControl = [];\n    aControl.push(this.control_);\n    return aControl;\n  }\n\n  /**\n   * @getter\n   * @public\n   */\n  get name() {\n    return 'buffer';\n  }\n\n  /**\n   * This functions returns the controls of the plugin.\n   *\n   * @public\n   * @return {M.Control}\n   * @api\n   */\n  get control() {\n    return this.control_;\n  }\n\n  hasLayerBuffer_() {\n    const layers = this.map_.getLayers();\n    for (let i = 0; i < layers.length; i += 1) {\n      const layerAux = layers[i];\n      if (layerAux instanceof BufferLayer) {\n        return layerAux;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Get the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name_}=${this.position_}*${this.collapsed_}*${this.collapsible_}`;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n}\n"],"sourceRoot":""}