{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/buffer.html","webpack:///./src/facade/js/vanilla-picker.js","webpack:///./src/impl/ol/js/buffercontrolImpl.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/buffercontrol.js","webpack:///./src/impl/ol/js/bufferLayerImpl.js","webpack:///./src/facade/js/bufferLayer.js","webpack:///./src/facade/js/buffer.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","slicedToArray","arr","Array","isArray","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","sliceIterator","String","startsWith","needle","this","indexOf","padStart","len","pad","str","colorNames","cb","tqw","q","qmrn","zr","bg","bsq","bck","nch","b","bvt","brwn","brw","ctb","hrt","chcT","cr","rnw","crns","crms","cn","Db","Dcn","Dgnr","Dgr","Dgrn","Dkhk","Dmgn","Dvgr","Drng","Drch","Dr","Dsmn","Dsgr","DsTb","DsTg","Dtrq","Dvt","ppnk","pskb","mgr","grb","rbrc","rwht","stg","chs","gnsb","st","g","gnr","gr","grn","grnw","hnw","htpn","nnr","ng","vr","khk","vnr","nrb","wngr","mnch","Lb","Lcr","Lcn","Lgnr","Lgr","Lgrn","Lpnk","Lsmn","Lsgr","Lskb","LsTg","Lstb","Lw","mgrn","nn","mgnt","mrn","mqm","mmb","mmrc","mmpr","msg","mmsT","mtr","mmvt","mnLb","ntc","mstr","mccs","vjw","nv","v","vrb","rng","rngr","rch","pgnr","pgrn","ptrq","pvtr","ppwh","pchp","pr","pnk","pm","pwrb","prp","cc","sbr","rb","sbrw","smn","nbr","sgrn","ssh","snn","svr","skb","sTb","sTgr","snw","stb","tn","thst","tmT","trqs","vt","whT","wht","hts","w","wgrn","printNum","num","decs","arguments","toFixed","replace","toString","Color","a","that","rgba","color","input","_input$match$map","match","map","Number","_input$match$map2","h","_a","hsla","_input$match$map3","_input$match$map4","_r","_g","_b","_a2","hexToRgb","nameToRgb","parseString","toLowerCase","alpha","vals","slice","x","mults","suff","hex","substring","_rgba","_hsla","Error","hslToRgb","set","rgb","printRGB","rgbToHsl","hsl","printHSL","Math","round","join","parseInt","hash","_ref","_ref2","max","min","_ref3","_ref4","hue2rgb","EventBucket","_events","type","handler","addEventListener","filter","e","isMatch","_doRemove","forEach","removeEventListener","dragTrack","eventBucket","area","callback","dragging","clamp","val","onMove","info","starting","preventDefault","bounds","getBoundingClientRect","width","height","clientX","y","clientY","relX","left","relY","top","onMouse","buttons","which","onTouch","touches","add","window","$","selector","context","document","querySelector","stopEvent","stopPropagation","onKey","bucket","keys","stop","_style","createElement","textContent","documentElement","firstElementChild","appendChild","Picker","options","settings","popup","layout","editor","editorFormat","cancelButton","defaultColor","onChange","onDone","onOpen","onClose","setOptions","_this","HTMLElement","parent","remove","_popupInited","source","skipKeys","transfer","col","colour","_setColor","openProxy","openHandler","show","style","pointerEvents","toFocus","_domEdit","domElement","setTimeout","focus","event","doHide","knownTime","__containedEvent","timeStamp","hide","open","closeHandler","silent","flags","trim","ex","failSilently","_setHSLA","setColor","toggled","_toggleDOM","_setPosition","htmlString","div","html","template","wrapper","innerHTML","_domH","_domSL","_domA","_domSample","_domOkay","_domCancel","classList","_ifPopup","_updateUI","_bindEvents","destroy","removeChild","_this2","dom","events","addEvent","editInput","fromEditor","selectionStart","selectionEnd","select","popupCloseProxy","timeKeeper","onDoneProxy","elm","parentNode","getComputedStyle","position","cssClass","cssHue","cssHSL","hslString","cssHSLA","hslaString","uiH","uiSL","uiA","thumbH","thumbSL","thumbA","posX","backgroundColor","posY","opaque","transp","backgroundImage","format","printHex","child","actionIf","actionElse","toVisible","displayStyle","toggle","display","define","BufferControl","M","impl","Control","getMapImpl","getInteractions","interaction","ol","DoubleClickZoom","dblClickInteraction_","setActive","on","evt","customEvt","CustomEvent","detail","coordinate","bubbles","getContainer","dispatchEvent","Draw","Modify","olFeature","features","olLayer","getSource","deleteCondition","condition","shiftKeyOnly","singleClick","facadeMap_","removeInteraction","setStyle","createStyle","Style","fill","Fill","stroke","Stroke","image","Circle","radius","translations","en","es","getLang","res","language","getTranslation","lang","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","editLayer","featuresEdit","BufferControlImpl","isUndefined","exception","Promise","success","fail","compileSync","vars","tooltip_point","tooltip_line","tooltip_polygon","tooltip_remove","template_","manageDraw_","removeFeatures","isTheSame","getAttribute","manageActivatedDeactivated","manageInteraction_","originFeature","draw","createNewDrawInteraction","originDraw","colorFeature","feature","dialog","minWidth","colorPickBtn","colorPicker","background","rgbaString","rgbString","btn","inputBuffer","distance","unit","unitBufferM","unitBufferKm","ev","addBuffer_","addInteraction","concat","getArray","isInteractionInstanceOfDrawOrModify","parser","jsts","io","OL3Parser","buffered","read","getGeometry","buffer","setGeometry","write","flag","elements","querySelectorAll","clear","control","BufferLayerImpl","Layer","layerOL","olMap","removeLayer","BufferLayer","layer","obj","equals","Buffer","Plugin","map_","controls_","position_","collapsed_","collapsed","collapsible_","collapsible","metadata_","api","metadata","Collection","featureOverlay","Vector","setMap","layerAux","hasLayerBuffer_","bufferLayer","addLayers","control_","panelTools_","ui","Panel","className","collapsedButtonClass","tooltip","addControls","addPanels","removeControls","getImpl","getOL3Layer","aControl","layers","getLayers","name_","plugin","M$plugin$Buffer","M$layer$BufferLayer","M$impl$control$BufferControl"],"mappings":"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","file":"buffer.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = \"<div class=\\\"m-buffer\\\">\\n  <button id=\\\"point\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-gps3\\\" title=\\\"{{translations.tooltip_point}}\\\"></button>\\n  <button id=\\\"lineString\\\" data-geometry-type=\\\"LineString\\\" class=\\\"g-cartografia-lineas\\\" title=\\\"{{translations.tooltip_line}}\\\"></button>\\n  <button id=\\\"polygon\\\" data-geometry-type=\\\"Polygon\\\" class=\\\"g-cartografia-poligono\\\" title=\\\"{{translations.tooltip_polygon}}\\\"></button>\\n  <button id=\\\"remove\\\" class=\\\"g-cartografia-papelera\\\" title=\\\"{{translations.tooltip_remove}}\\\"></button>\\n</div>\";","/*!\n * vanilla-picker v2.10.1\n * https://vanilla-picker.js.org\n *\n * Copyright 2017-2019 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)\n * Released under the ISC license.\n */\n/* eslint-disable*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Picker = factory());\n}(this, (function () { 'use strict';\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  String.prototype.startsWith = String.prototype.startsWith || function (needle) {\n      return this.indexOf(needle) === 0;\n  };\n  String.prototype.padStart = String.prototype.padStart || function (len, pad) {\n      var str = this;while (str.length < len) {\n          str = pad + str;\n      }return str;\n  };\n\n  var colorNames = { cb: '0f8ff', tqw: 'aebd7', q: '-ffff', qmrn: '7fffd4', zr: '0ffff', bg: '5f5dc', bsq: 'e4c4', bck: '---', nch: 'ebcd', b: '--ff', bvt: '8a2be2', brwn: 'a52a2a', brw: 'deb887', ctb: '5f9ea0', hrt: '7fff-', chcT: 'd2691e', cr: '7f50', rnw: '6495ed', crns: '8dc', crms: 'dc143c', cn: '-ffff', Db: '--8b', Dcn: '-8b8b', Dgnr: 'b8860b', Dgr: 'a9a9a9', Dgrn: '-64-', Dkhk: 'bdb76b', Dmgn: '8b-8b', Dvgr: '556b2f', Drng: '8c-', Drch: '9932cc', Dr: '8b--', Dsmn: 'e9967a', Dsgr: '8fbc8f', DsTb: '483d8b', DsTg: '2f4f4f', Dtrq: '-ced1', Dvt: '94-d3', ppnk: '1493', pskb: '-bfff', mgr: '696969', grb: '1e90ff', rbrc: 'b22222', rwht: 'af0', stg: '228b22', chs: '-ff', gnsb: 'dcdcdc', st: '8f8ff', g: 'd7-', gnr: 'daa520', gr: '808080', grn: '-8-0', grnw: 'adff2f', hnw: '0fff0', htpn: '69b4', nnr: 'cd5c5c', ng: '4b-82', vr: '0', khk: '0e68c', vnr: 'e6e6fa', nrb: '0f5', wngr: '7cfc-', mnch: 'acd', Lb: 'add8e6', Lcr: '08080', Lcn: 'e0ffff', Lgnr: 'afad2', Lgr: 'd3d3d3', Lgrn: '90ee90', Lpnk: 'b6c1', Lsmn: 'a07a', Lsgr: '20b2aa', Lskb: '87cefa', LsTg: '778899', Lstb: 'b0c4de', Lw: 'e0', m: '-ff-', mgrn: '32cd32', nn: 'af0e6', mgnt: '-ff', mrn: '8--0', mqm: '66cdaa', mmb: '--cd', mmrc: 'ba55d3', mmpr: '9370db', msg: '3cb371', mmsT: '7b68ee', '': '-fa9a', mtr: '48d1cc', mmvt: 'c71585', mnLb: '191970', ntc: '5fffa', mstr: 'e4e1', mccs: 'e4b5', vjw: 'dead', nv: '--80', c: 'df5e6', v: '808-0', vrb: '6b8e23', rng: 'a5-', rngr: '45-', rch: 'da70d6', pgnr: 'eee8aa', pgrn: '98fb98', ptrq: 'afeeee', pvtr: 'db7093', ppwh: 'efd5', pchp: 'dab9', pr: 'cd853f', pnk: 'c0cb', pm: 'dda0dd', pwrb: 'b0e0e6', prp: '8-080', cc: '663399', r: '--', sbr: 'bc8f8f', rb: '4169e1', sbrw: '8b4513', smn: 'a8072', nbr: '4a460', sgrn: '2e8b57', ssh: '5ee', snn: 'a0522d', svr: 'c0c0c0', skb: '87ceeb', sTb: '6a5acd', sTgr: '708090', snw: 'afa', n: '-ff7f', stb: '4682b4', tn: 'd2b48c', t: '-8080', thst: 'd8bfd8', tmT: '6347', trqs: '40e0d0', vt: 'ee82ee', whT: '5deb3', wht: '', hts: '5f5f5', w: '-', wgrn: '9acd32' };\n\n  function printNum(num) {\n      var decs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      var str = decs > 0 ? num.toFixed(decs).replace(/0+$/, '').replace(/\\.$/, '') : num.toString();\n      return str || '0';\n  }\n\n  var Color = function () {\n      function Color(r, g, b, a) {\n          classCallCheck(this, Color);\n\n\n          var that = this;\n          function parseString(input) {\n\n              if (input.startsWith('hsl')) {\n                  var _input$match$map = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                      _input$match$map2 = slicedToArray(_input$match$map, 4),\n                      h = _input$match$map2[0],\n                      s = _input$match$map2[1],\n                      l = _input$match$map2[2],\n                      _a = _input$match$map2[3];\n\n                  if (_a === undefined) {\n                      _a = 1;\n                  }\n\n                  h /= 360;\n                  s /= 100;\n                  l /= 100;\n                  that.hsla = [h, s, l, _a];\n              } else if (input.startsWith('rgb')) {\n                  var _input$match$map3 = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                      _input$match$map4 = slicedToArray(_input$match$map3, 4),\n                      _r = _input$match$map4[0],\n                      _g = _input$match$map4[1],\n                      _b = _input$match$map4[2],\n                      _a2 = _input$match$map4[3];\n\n                  if (_a2 === undefined) {\n                      _a2 = 1;\n                  }\n\n                  that.rgba = [_r, _g, _b, _a2];\n              } else {\n                  if (input.startsWith('#')) {\n                      that.rgba = Color.hexToRgb(input);\n                  } else {\n                      that.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);\n                  }\n              }\n          }\n\n          if (r === undefined) ; else if (Array.isArray(r)) {\n              this.rgba = r;\n          } else if (b === undefined) {\n              var color = r && '' + r;\n              if (color) {\n                  parseString(color.toLowerCase());\n              }\n          } else {\n              this.rgba = [r, g, b, a === undefined ? 1 : a];\n          }\n      }\n\n      createClass(Color, [{\n          key: 'printRGB',\n          value: function printRGB(alpha) {\n              var rgb = alpha ? this.rgba : this.rgba.slice(0, 3),\n                  vals = rgb.map(function (x, i) {\n                  return printNum(x, i === 3 ? 3 : 0);\n              });\n\n              return alpha ? 'rgba(' + vals + ')' : 'rgb(' + vals + ')';\n          }\n      }, {\n          key: 'printHSL',\n          value: function printHSL(alpha) {\n              var mults = [360, 100, 100, 1],\n                  suff = ['', '%', '%', ''];\n\n              var hsl = alpha ? this.hsla : this.hsla.slice(0, 3),\n                  vals = hsl.map(function (x, i) {\n                  return printNum(x * mults[i], i === 3 ? 3 : 1) + suff[i];\n              });\n\n              return alpha ? 'hsla(' + vals + ')' : 'hsl(' + vals + ')';\n          }\n      }, {\n          key: 'printHex',\n          value: function printHex(alpha) {\n              var hex = this.hex;\n              return alpha ? hex : hex.substring(0, 7);\n          }\n      }, {\n          key: 'rgba',\n          get: function get$$1() {\n              if (this._rgba) {\n                  return this._rgba;\n              }\n              if (!this._hsla) {\n                  throw new Error('No color is set');\n              }\n\n              return this._rgba = Color.hslToRgb(this._hsla);\n          },\n          set: function set$$1(rgb) {\n              if (rgb.length === 3) {\n                  rgb[3] = 1;\n              }\n\n              this._rgba = rgb;\n              this._hsla = null;\n          }\n      }, {\n          key: 'rgbString',\n          get: function get$$1() {\n              return this.printRGB();\n          }\n      }, {\n          key: 'rgbaString',\n          get: function get$$1() {\n              return this.printRGB(true);\n          }\n      }, {\n          key: 'hsla',\n          get: function get$$1() {\n              if (this._hsla) {\n                  return this._hsla;\n              }\n              if (!this._rgba) {\n                  throw new Error('No color is set');\n              }\n\n              return this._hsla = Color.rgbToHsl(this._rgba);\n          },\n          set: function set$$1(hsl) {\n              if (hsl.length === 3) {\n                  hsl[3] = 1;\n              }\n\n              this._hsla = hsl;\n              this._rgba = null;\n          }\n      }, {\n          key: 'hslString',\n          get: function get$$1() {\n              return this.printHSL();\n          }\n      }, {\n          key: 'hslaString',\n          get: function get$$1() {\n              return this.printHSL(true);\n          }\n      }, {\n          key: 'hex',\n          get: function get$$1() {\n              var rgb = this.rgba,\n                  hex = rgb.map(function (x, i) {\n                  return i < 3 ? x.toString(16) : Math.round(x * 255).toString(16);\n              });\n\n              return '#' + hex.map(function (x) {\n                  return x.padStart(2, '0');\n              }).join('');\n          },\n          set: function set$$1(hex) {\n              this.rgba = Color.hexToRgb(hex);\n          }\n      }], [{\n          key: 'hexToRgb',\n          value: function hexToRgb(input) {\n\n              var hex = (input.startsWith('#') ? input.slice(1) : input).replace(/^(\\w{3})$/, '$1F').replace(/^(\\w)(\\w)(\\w)(\\w)$/, '$1$1$2$2$3$3$4$4').replace(/^(\\w{6})$/, '$1FF');\n\n              if (!hex.match(/^([0-9a-fA-F]{8})$/)) {\n                  throw new Error('Unknown hex color; ' + input);\n              }\n\n              var rgba = hex.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1).map(function (x) {\n                  return parseInt(x, 16);\n              });\n\n              rgba[3] = rgba[3] / 255;\n              return rgba;\n          }\n      }, {\n          key: 'nameToRgb',\n          value: function nameToRgb(input) {\n\n              var hash = input.toLowerCase().replace('at', 'T').replace(/[aeiouyldf]/g, '').replace('ght', 'L').replace('rk', 'D').slice(-5, 4),\n                  hex = colorNames[hash];\n              return hex === undefined ? hex : Color.hexToRgb(hex.replace(/\\-/g, '00').padStart(6, 'f'));\n          }\n      }, {\n          key: 'rgbToHsl',\n          value: function rgbToHsl(_ref) {\n              var _ref2 = slicedToArray(_ref, 4),\n                  r = _ref2[0],\n                  g = _ref2[1],\n                  b = _ref2[2],\n                  a = _ref2[3];\n\n              r /= 255;\n              g /= 255;\n              b /= 255;\n\n              var max = Math.max(r, g, b),\n                  min = Math.min(r, g, b);\n              var h = void 0,\n                  s = void 0,\n                  l = (max + min) / 2;\n\n              if (max === min) {\n                  h = s = 0;\n              } else {\n                  var d = max - min;\n                  s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                  switch (max) {\n                      case r:\n                          h = (g - b) / d + (g < b ? 6 : 0);break;\n                      case g:\n                          h = (b - r) / d + 2;break;\n                      case b:\n                          h = (r - g) / d + 4;break;\n                  }\n\n                  h /= 6;\n              }\n\n              return [h, s, l, a];\n          }\n      }, {\n          key: 'hslToRgb',\n          value: function hslToRgb(_ref3) {\n              var _ref4 = slicedToArray(_ref3, 4),\n                  h = _ref4[0],\n                  s = _ref4[1],\n                  l = _ref4[2],\n                  a = _ref4[3];\n\n              var r = void 0,\n                  g = void 0,\n                  b = void 0;\n\n              if (s === 0) {\n                  r = g = b = l;\n              } else {\n                  var hue2rgb = function hue2rgb(p, q, t) {\n                      if (t < 0) t += 1;\n                      if (t > 1) t -= 1;\n                      if (t < 1 / 6) return p + (q - p) * 6 * t;\n                      if (t < 1 / 2) return q;\n                      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n                      return p;\n                  };\n\n                  var q = l < 0.5 ? l * (1 + s) : l + s - l * s,\n                      p = 2 * l - q;\n\n                  r = hue2rgb(p, q, h + 1 / 3);\n                  g = hue2rgb(p, q, h);\n                  b = hue2rgb(p, q, h - 1 / 3);\n              }\n\n              var rgba = [r * 255, g * 255, b * 255].map(Math.round);\n              rgba[3] = a;\n\n              return rgba;\n          }\n      }]);\n      return Color;\n  }();\n\n  var EventBucket = function () {\n      function EventBucket() {\n          classCallCheck(this, EventBucket);\n\n          this._events = [];\n      }\n\n      createClass(EventBucket, [{\n          key: 'add',\n          value: function add(target, type, handler) {\n              target.addEventListener(type, handler, false);\n              this._events.push({\n                  target: target,\n                  type: type,\n                  handler: handler\n              });\n          }\n      }, {\n          key: 'remove',\n          value: function remove(target, type, handler) {\n              this._events = this._events.filter(function (e) {\n                  var isMatch = true;\n                  if (target && target !== e.target) {\n                      isMatch = false;\n                  }\n                  if (type && type !== e.type) {\n                      isMatch = false;\n                  }\n                  if (handler && handler !== e.handler) {\n                      isMatch = false;\n                  }\n\n                  if (isMatch) {\n                      EventBucket._doRemove(e.target, e.type, e.handler);\n                  }\n                  return !isMatch;\n              });\n          }\n      }, {\n          key: 'destroy',\n          value: function destroy() {\n              this._events.forEach(function (e) {\n                  return EventBucket._doRemove(e.target, e.type, e.handler);\n              });\n              this._events = [];\n          }\n      }], [{\n          key: '_doRemove',\n          value: function _doRemove(target, type, handler) {\n              target.removeEventListener(type, handler, false);\n          }\n      }]);\n      return EventBucket;\n  }();\n\n  function parseHTML(htmlString) {\n\n      var div = document.createElement('div');\n      div.innerHTML = htmlString;\n      return div.firstElementChild;\n  }\n\n  function dragTrack(eventBucket, area, callback) {\n      var dragging = false;\n\n      function clamp(val, min, max) {\n          return Math.max(min, Math.min(val, max));\n      }\n\n      function onMove(e, info, starting) {\n          if (starting) {\n              dragging = true;\n          }\n          if (!dragging) {\n              return;\n          }\n\n          e.preventDefault();\n\n          var bounds = area.getBoundingClientRect(),\n              w = bounds.width,\n              h = bounds.height,\n              x = info.clientX,\n              y = info.clientY;\n\n          var relX = clamp(x - bounds.left, 0, w),\n              relY = clamp(y - bounds.top, 0, h);\n\n          callback(relX / w, relY / h);\n      }\n\n      function onMouse(e, starting) {\n          var button = e.buttons === undefined ? e.which : e.buttons;\n          if (button === 1) {\n              onMove(e, e, starting);\n          } else {\n              dragging = false;\n          }\n      }\n\n      function onTouch(e, starting) {\n          if (e.touches.length === 1) {\n              onMove(e, e.touches[0], starting);\n          } else {\n              dragging = false;\n          }\n      }\n\n      eventBucket.add(area, 'mousedown', function (e) {\n          onMouse(e, true);\n      });\n      eventBucket.add(area, 'touchstart', function (e) {\n          onTouch(e, true);\n      });\n      eventBucket.add(window, 'mousemove', onMouse);\n      eventBucket.add(area, 'touchmove', onTouch);\n      eventBucket.add(window, 'mouseup', function (e) {\n          dragging = false;\n      });\n      eventBucket.add(area, 'touchend', function (e) {\n          dragging = false;\n      });\n      eventBucket.add(area, 'touchcancel', function (e) {\n          dragging = false;\n      });\n  }\n\n  var BG_TRANSP = 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\")';\n  var HUES = 360;\n\n  var EVENT_KEY = 'keydown',\n      EVENT_CLICK_OUTSIDE = 'mousedown',\n      EVENT_TAB_MOVE = 'focusin';\n\n  function $(selector, context) {\n      return (context || document).querySelector(selector);\n  }\n\n  function stopEvent(e) {\n\n      e.preventDefault();\n      e.stopPropagation();\n  }\n  function onKey(bucket, target, keys, handler, stop) {\n      bucket.add(target, EVENT_KEY, function (e) {\n          if (keys.indexOf(e.key) >= 0) {\n              if (stop) {\n                  stopEvent(e);\n              }\n              handler(e);\n          }\n      });\n  }\n\n  var _style = document.createElement('style');\n  _style.textContent = '.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:\\'\\';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:\\'\\';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:\\'\\';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}';\n  document.documentElement.firstElementChild.appendChild(_style);\n\n  var Picker = function () {\n      function Picker(options) {\n          classCallCheck(this, Picker);\n\n\n          this.settings = {\n\n              popup: 'right',\n              layout: 'default',\n              alpha: true,\n              editor: true,\n              editorFormat: 'hex',\n              cancelButton: false,\n              defaultColor: '#0cf'\n          };\n\n          this._events = new EventBucket();\n\n          this.onChange = null;\n\n          this.onDone = null;\n\n          this.onOpen = null;\n\n          this.onClose = null;\n\n          this.setOptions(options);\n      }\n\n      createClass(Picker, [{\n          key: 'setOptions',\n          value: function setOptions(options) {\n              var _this = this;\n\n              if (!options) {\n                  return;\n              }\n              var settings = this.settings;\n\n              function transfer(source, target, skipKeys) {\n                  for (var key in source) {\n                      if (skipKeys && skipKeys.indexOf(key) >= 0) {\n                          continue;\n                      }\n\n                      target[key] = source[key];\n                  }\n              }\n\n              if (options instanceof HTMLElement) {\n                  settings.parent = options;\n              } else {\n\n                  if (settings.parent && options.parent && settings.parent !== options.parent) {\n                      this._events.remove(settings.parent);\n                      this._popupInited = false;\n                  }\n\n                  transfer(options, settings);\n\n                  if (options.onChange) {\n                      this.onChange = options.onChange;\n                  }\n                  if (options.onDone) {\n                      this.onDone = options.onDone;\n                  }\n                  if (options.onOpen) {\n                      this.onOpen = options.onOpen;\n                  }\n                  if (options.onClose) {\n                      this.onClose = options.onClose;\n                  }\n\n                  var col = options.color || options.colour;\n                  if (col) {\n                      this._setColor(col);\n                  }\n              }\n\n              var parent = settings.parent;\n              if (parent && settings.popup && !this._popupInited) {\n\n                  var openProxy = function openProxy(e) {\n                      return _this.openHandler(e);\n                  };\n\n                  this._events.add(parent, 'click', openProxy);\n\n                  onKey(this._events, parent, [' ', 'Spacebar', 'Enter'], openProxy);\n\n                  this._popupInited = true;\n              } else if (options.parent && !settings.popup) {\n                  this.show();\n              }\n          }\n      }, {\n          key: 'openHandler',\n          value: function openHandler(e) {\n              if (this.show()) {\n\n                  e && e.preventDefault();\n\n                  this.settings.parent.style.pointerEvents = 'none';\n\n                  var toFocus = e && e.type === EVENT_KEY ? this._domEdit : this.domElement;\n                  setTimeout(function () {\n                      return toFocus.focus();\n                  }, 100);\n\n                  if (this.onOpen) {\n                      this.onOpen(this.colour);\n                  }\n              }\n          }\n      }, {\n          key: 'closeHandler',\n          value: function closeHandler(e) {\n              var event = e && e.type;\n              var doHide = false;\n\n              if (!e) {\n                  doHide = true;\n              } else if (event === EVENT_CLICK_OUTSIDE || event === EVENT_TAB_MOVE) {\n\n                  var knownTime = (this.__containedEvent || 0) + 100;\n                  if (e.timeStamp > knownTime) {\n                      doHide = true;\n                  }\n              } else {\n\n                  stopEvent(e);\n\n                  doHide = true;\n              }\n\n              if (doHide && this.hide()) {\n                  this.settings.parent.style.pointerEvents = '';\n\n                  if (event !== EVENT_CLICK_OUTSIDE) {\n                      this.settings.parent.focus();\n                  }\n\n                  if (this.onClose) {\n                      this.onClose(this.colour);\n                  }\n              }\n          }\n      }, {\n          key: 'movePopup',\n          value: function movePopup(options, open) {\n\n              this.closeHandler();\n\n              this.setOptions(options);\n              if (open) {\n                  this.openHandler();\n              }\n          }\n      }, {\n          key: 'setColor',\n          value: function setColor(color, silent) {\n              this._setColor(color, { silent: silent });\n          }\n      }, {\n          key: '_setColor',\n          value: function _setColor(color, flags) {\n              if (typeof color === 'string') {\n                  color = color.trim();\n              }\n              if (!color) {\n                  return;\n              }\n\n              flags = flags || {};\n              var c = void 0;\n              try {\n\n                  c = new Color(color);\n              } catch (ex) {\n                  if (flags.failSilently) {\n                      return;\n                  }\n                  throw ex;\n              }\n\n              if (!this.settings.alpha) {\n                  var hsla = c.hsla;\n                  hsla[3] = 1;\n                  c.hsla = hsla;\n              }\n              this.colour = this.color = c;\n              this._setHSLA(null, null, null, null, flags);\n          }\n      }, {\n          key: 'setColour',\n          value: function setColour(colour, silent) {\n              this.setColor(colour, silent);\n          }\n      }, {\n          key: 'show',\n          value: function show() {\n              var parent = this.settings.parent;\n              if (!parent) {\n                  return false;\n              }\n\n              if (this.domElement) {\n                  var toggled = this._toggleDOM(true);\n\n                  this._setPosition();\n\n                  return toggled;\n              }\n\n              var html = this.settings.template || '<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div><div class=\"picker_cancel\"><button>Cancel</button></div></div>';\n              var wrapper = parseHTML(html);\n\n              this.domElement = wrapper;\n              this._domH = $('.picker_hue', wrapper);\n              this._domSL = $('.picker_sl', wrapper);\n              this._domA = $('.picker_alpha', wrapper);\n              this._domEdit = $('.picker_editor input', wrapper);\n              this._domSample = $('.picker_sample', wrapper);\n              this._domOkay = $('.picker_done button', wrapper);\n              this._domCancel = $('.picker_cancel button', wrapper);\n\n              wrapper.classList.add('layout_' + this.settings.layout);\n              if (!this.settings.alpha) {\n                  wrapper.classList.add('no_alpha');\n              }\n              if (!this.settings.editor) {\n                  wrapper.classList.add('no_editor');\n              }\n              if (!this.settings.cancelButton) {\n                  wrapper.classList.add('no_cancel');\n              }\n              this._ifPopup(function () {\n                  return wrapper.classList.add('popup');\n              });\n\n              this._setPosition();\n\n              if (this.colour) {\n                  this._updateUI();\n              } else {\n                  this._setColor(this.settings.defaultColor);\n              }\n              this._bindEvents();\n\n              return true;\n          }\n      }, {\n          key: 'hide',\n          value: function hide() {\n              return this._toggleDOM(false);\n          }\n      }, {\n          key: 'destroy',\n          value: function destroy() {\n              this._events.destroy();\n              if (this.domElement) {\n                  this.settings.parent.removeChild(this.domElement);\n              }\n          }\n      }, {\n          key: '_bindEvents',\n          value: function _bindEvents() {\n              var _this2 = this;\n\n              var that = this,\n                  dom = this.domElement,\n                  events = this._events;\n\n              function addEvent(target, type, handler) {\n                  events.add(target, type, handler);\n              }\n\n              addEvent(dom, 'click', function (e) {\n                  return e.preventDefault();\n              });\n\n              dragTrack(events, this._domH, function (x, y) {\n                  return that._setHSLA(x);\n              });\n\n              dragTrack(events, this._domSL, function (x, y) {\n                  return that._setHSLA(null, x, 1 - y);\n              });\n\n              if (this.settings.alpha) {\n                  dragTrack(events, this._domA, function (x, y) {\n                      return that._setHSLA(null, null, null, 1 - y);\n                  });\n              }\n\n              var editInput = this._domEdit;\n              {\n                  addEvent(editInput, 'input', function (e) {\n                      that._setColor(this.value, { fromEditor: true, failSilently: true });\n                  });\n\n                  addEvent(editInput, 'focus', function (e) {\n                      var input = this;\n\n                      if (input.selectionStart === input.selectionEnd) {\n                          input.select();\n                      }\n                  });\n              }\n\n              this._ifPopup(function () {\n\n                  var popupCloseProxy = function popupCloseProxy(e) {\n                      return _this2.closeHandler(e);\n                  };\n\n                  addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);\n                  addEvent(window, EVENT_TAB_MOVE, popupCloseProxy);\n                  onKey(events, dom, ['Esc', 'Escape'], popupCloseProxy);\n\n                  var timeKeeper = function timeKeeper(e) {\n                      _this2.__containedEvent = e.timeStamp;\n                  };\n                  addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);\n\n                  addEvent(dom, EVENT_TAB_MOVE, timeKeeper);\n\n                  addEvent(_this2._domCancel, 'click', popupCloseProxy);\n              });\n\n              var onDoneProxy = function onDoneProxy(e) {\n                  _this2._ifPopup(function () {\n                      return _this2.closeHandler(e);\n                  });\n                  if (_this2.onDone) {\n                      _this2.onDone(_this2.colour);\n                  }\n              };\n              addEvent(this._domOkay, 'click', onDoneProxy);\n              onKey(events, dom, ['Enter'], onDoneProxy);\n          }\n      }, {\n          key: '_setPosition',\n          value: function _setPosition() {\n              var parent = this.settings.parent,\n                  elm = this.domElement;\n\n              if (parent !== elm.parentNode) {\n                  parent.appendChild(elm);\n              }\n\n              this._ifPopup(function (popup) {\n\n                  if (getComputedStyle(parent).position === 'static') {\n                      parent.style.position = 'relative';\n                  }\n\n                  var cssClass = popup === true ? 'popup_right' : 'popup_' + popup;\n\n                  ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(function (c) {\n\n                      if (c === cssClass) {\n                          elm.classList.add(c);\n                      } else {\n                          elm.classList.remove(c);\n                      }\n                  });\n\n                  elm.classList.add(cssClass);\n              });\n          }\n      }, {\n          key: '_setHSLA',\n          value: function _setHSLA(h, s, l, a, flags) {\n              flags = flags || {};\n\n              var col = this.colour,\n                  hsla = col.hsla;\n\n              [h, s, l, a].forEach(function (x, i) {\n                  if (x || x === 0) {\n                      hsla[i] = x;\n                  }\n              });\n              col.hsla = hsla;\n\n              this._updateUI(flags);\n\n              if (this.onChange && !flags.silent) {\n                  this.onChange(col);\n              }\n          }\n      }, {\n          key: '_updateUI',\n          value: function _updateUI(flags) {\n              if (!this.domElement) {\n                  return;\n              }\n              flags = flags || {};\n\n              var col = this.colour,\n                  hsl = col.hsla,\n                  cssHue = 'hsl(' + hsl[0] * HUES + ', 100%, 50%)',\n                  cssHSL = col.hslString,\n                  cssHSLA = col.hslaString;\n\n              var uiH = this._domH,\n                  uiSL = this._domSL,\n                  uiA = this._domA,\n                  thumbH = $('.picker_selector', uiH),\n                  thumbSL = $('.picker_selector', uiSL),\n                  thumbA = $('.picker_selector', uiA);\n\n              function posX(parent, child, relX) {\n                  child.style.left = relX * 100 + '%';\n              }\n              function posY(parent, child, relY) {\n                  child.style.top = relY * 100 + '%';\n              }\n\n              posX(uiH, thumbH, hsl[0]);\n\n              this._domSL.style.backgroundColor = this._domH.style.color = cssHue;\n\n              posX(uiSL, thumbSL, hsl[1]);\n              posY(uiSL, thumbSL, 1 - hsl[2]);\n\n              uiSL.style.color = cssHSL;\n\n              posY(uiA, thumbA, 1 - hsl[3]);\n\n              var opaque = cssHSL,\n                  transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),\n                  bg = 'linear-gradient(' + [opaque, transp] + ')';\n\n              this._domA.style.backgroundImage = bg + ', ' + BG_TRANSP;\n\n              if (!flags.fromEditor) {\n                  var format = this.settings.editorFormat,\n                      alpha = this.settings.alpha;\n\n                  var value = void 0;\n                  switch (format) {\n                      case 'rgb':\n                          value = col.printRGB(alpha);break;\n                      case 'hsl':\n                          value = col.printHSL(alpha);break;\n                      default:\n                          value = col.printHex(alpha);\n                  }\n                  this._domEdit.value = value;\n              }\n\n              this._domSample.style.color = cssHSLA;\n          }\n      }, {\n          key: '_ifPopup',\n          value: function _ifPopup(actionIf, actionElse) {\n              if (this.settings.parent && this.settings.popup) {\n                  actionIf && actionIf(this.settings.popup);\n              } else {\n                  actionElse && actionElse();\n              }\n          }\n      }, {\n          key: '_toggleDOM',\n          value: function _toggleDOM(toVisible) {\n              var dom = this.domElement;\n              if (!dom) {\n                  return false;\n              }\n\n              var displayStyle = toVisible ? '' : 'none',\n                  toggle = dom.style.display !== displayStyle;\n\n              if (toggle) {\n                  dom.style.display = displayStyle;\n              }\n              return toggle;\n          }\n      }], [{\n          key: 'StyleElement',\n          get: function get$$1() {\n              return _style;\n          }\n      }]);\n      return Picker;\n  }();\n\n  return Picker;\n\n})));\n","/**\n * @module M/impl/control/BufferControl\n */\nexport default class BufferControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // obtengo la interacción por defecto del dblclick para manejarla\n    const olMap = map.getMapImpl();\n    olMap.getInteractions().forEach((interaction) => {\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\n        this.dblClickInteraction_ = interaction;\n      }\n    });\n\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  // Add your own functions\n  activateClick(map) {\n    // desactivo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(false);\n\n    // añado un listener al evento dblclick\n    const olMap = map.getMapImpl();\n    olMap.on('dblclick', (evt) => {\n      // disparo un custom event con las coordenadas del dobleclick\n      const customEvt = new CustomEvent('mapclicked', {\n        detail: evt.coordinate,\n        bubbles: true,\n      });\n      map.getContainer().dispatchEvent(customEvt);\n    });\n  }\n\n  deactivateClick(map) {\n    // activo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(true);\n\n    // elimino el listener del evento\n    map.getMapImpl().removeEventListener('dblclick');\n  }\n\n  /**\n   * This function checks if an interaction is\n   * an instance of Draw or Modify\n   */\n  isInteractionInstanceOfDrawOrModify(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Draw object\n   * @param {*} features\n   * @param {*} type\n   */\n  createNewDrawInteraction(olFeature, type) {\n    return new ol.interaction.Draw({\n      features: olFeature,\n      type,\n    });\n  }\n\n  /**\n   * This function creates a new ol.interaction.Modify object\n   * @param {*} features\n   */\n  createNewModifyInteraction(olLayer) {\n    return new ol.interaction.Modify({\n      source: olLayer.getSource(),\n      deleteCondition: (event) => {\n        return ol.events.condition.shiftKeyOnly(event) &&\n          ol.events.condition.singleClick(event);\n      },\n    });\n  }\n\n  removeInteraction(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      this.facadeMap_.getMapImpl().removeInteraction(interaction);\n    }\n  }\n\n  setStyle(color, olFeature) {\n    if (olFeature) {\n      olFeature.setStyle(this.createStyle(color));\n    }\n  }\n\n  createStyle(color) {\n    return new ol.style.Style({\n      fill: new ol.style.Fill({ color: color.replace(')', ', 0.2)') }),\n      stroke: new ol.style.Stroke({ color, width: 3 }),\n      image: new ol.style.Circle({\n        radius: 7,\n        fill: new ol.style.Fill({ color }),\n      }),\n    });\n  }\n}\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","import template from 'templates/buffer';\nimport BufferControlImpl from 'impl/buffercontrolImpl';\nimport Picker from './vanilla-picker';\nimport { getValue } from './i18n/language';\n\nexport default class BufferControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a influenceareaControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(editLayer, featuresEdit) {\n    const impl = new BufferControlImpl();\n    super(impl, 'buffer');\n    this.impl = impl;\n    this.editLayer = editLayer;\n\n    this.featuresEdit = featuresEdit;\n\n    // 1. checks if the implementation can create influenceareaControl\n    if (M.utils.isUndefined(BufferControlImpl)) {\n      M.exception(getValue('exception_control'));\n    }\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    this.facadeMap_ = map;\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template, {\n        vars: {\n          translations: {\n            tooltip_point: getValue('tooltip_point'),\n            tooltip_line: getValue('tooltip_line'),\n            tooltip_polygon: getValue('tooltip_polygon'),\n            tooltip_remove: getValue('tooltip_remove'),\n          },\n        },\n      });\n      this.template_ = html;\n      this.template_.querySelector('#point').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#polygon').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#lineString').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#remove').addEventListener('click', e => this.removeFeatures(e));\n      success(html);\n    });\n  }\n\n  /**\n   * Add or remove interaction to draw in map\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  manageDraw_(evt) {\n    let isTheSame = false;\n    const value = evt.target.getAttribute('data-geometry-type');\n    isTheSame = this.manageActivatedDeactivated(evt.target);\n    evt.target.classList.add('activated');\n    this.manageInteraction_(false, null, null);\n    if (!isTheSame) {\n      const draw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      const originDraw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      let colorFeature = 'rgb(48, 169, 146)';\n      let originFeature;\n      originDraw.on('drawend', (event) => {\n        originFeature = event.feature;\n      });\n      draw.on('drawend', (e) => {\n        M.dialog.info(\n          `<div id=\"chooseBuffer\">\n            <div id=\"colorPick\"></div>\n            <input type=\"number\" id=\"metreBuffer\" value=\"50\" style=\"width: 10rem;\">\n            <div style=\"padding-top: 0.5rem;text-align: center;\">\n              <input type=\"radio\" name=\"unit\" id=\"metro\" value=\"m\" checked=\"checked\"/>\n              <label for=\"metro\">${getValue('unit_m')}</label>\n              <input type=\"radio\" name=\"unit\" id=\"kilometro\" value=\"km\"/>\n              <label for=\"kilometro\">${getValue('unit_km')}</label>\n            </div>\n          </div>`,\n          getValue('title_popup'),\n        );\n        const dialog = document.querySelector('.m-dialog > div.m-modal > div.m-content');\n        dialog.style.minWidth = 'auto';\n        const title = document.querySelector('.m-modal .m-title');\n        title.style.backgroundColor = 'rgb(48, 169, 146)';\n        const colorPickBtn = document.querySelector('div#colorPick');\n        const colorPicker = new Picker({\n          parent: colorPickBtn,\n          popup: 'bottom',\n          alpha: false,\n          color: 'rgb(48, 169, 146)',\n          editor: false,\n          onChange: (color) => {\n            colorPickBtn.style.background = color.rgbaString;\n            colorFeature = color.rgbString;\n          },\n        });\n        colorPickBtn.addEventListener('click', () => {\n          colorPicker.show();\n        });\n        const btn = document.querySelector('.m-button button');\n        const inputBuffer = document.querySelector('div.m-modal input#metreBuffer');\n        let distance = 50;\n        inputBuffer.addEventListener('keyup', () => {\n          distance = inputBuffer.value;\n          btn.style.pointerEvents = document.querySelector('div.m-modal input#metreBuffer:invalid') === null ? 'initial' : 'none';\n        });\n        inputBuffer.addEventListener('keydown', () => {\n          btn.style.pointerEvents = document.querySelector('div.m-modal input#metreBuffer:invalid') === null ? 'initial' : 'none';\n        });\n        let unit = 1;\n        const unitBufferM = document.querySelector('div.m-modal input#metro');\n        const unitBufferKm = document.querySelector('div.m-modal input#kilometro');\n        unitBufferM.addEventListener('change', () => { unit = 1; });\n        unitBufferKm.addEventListener('change', () => { unit = 1000; });\n        btn.style.backgroundColor = 'rgb(48, 169, 146)';\n        btn.addEventListener('click', (ev) => {\n          this.impl.setStyle(colorFeature, originFeature);\n          this.impl.setStyle(colorFeature, e.feature);\n          this.manageInteraction_(false, null, null);\n          this.addBuffer_(e.feature, (distance * unit), evt.target);\n        });\n      });\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n      this.facadeMap_.getMapImpl().addInteraction(originDraw);\n    }\n    isTheSame = false;\n  }\n\n  manageInteraction_(add, featuresEdit, value) {\n    const evt = window.event;\n    if (!add) {\n      const arrayInteractions = [].concat(this.facadeMap_.getMapImpl()\n        .getInteractions().getArray());\n      arrayInteractions.forEach((interaction) => {\n        if (this.impl.isInteractionInstanceOfDrawOrModify(interaction)) {\n          this.facadeMap_.getMapImpl().removeInteraction(interaction);\n        }\n      });\n    } else {\n      const draw = this.impl.createNewDrawInteraction(this.featuresEdit, (value));\n      draw.on('drawend', (e) => {\n        const arrayInteractions = [].concat(this.facadeMap_.getMapImpl()\n          .getInteractions().getArray());\n        arrayInteractions.forEach((interaction) => {\n          if (this.impl.isInteractionInstanceOfDrawOrModify(interaction)) {\n            this.facadeMap_.getMapImpl().removeInteraction(interaction);\n          }\n        });\n        const inputBuffer = document.querySelector('input#metreBuffer');\n        if (inputBuffer) {\n          const distance = inputBuffer.value;\n          this.addBuffer_(e.feature, distance, evt.target);\n        }\n      });\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n    }\n  }\n\n\n  /**\n   * Get feature and create buffer\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  addBuffer_(feature, distance, target) {\n    const parser = new jsts.io.OL3Parser();\n    const jstsGeom = parser.read(feature.getGeometry());\n    const buffered = jstsGeom.buffer(parseInt(distance, 10));\n    feature.setGeometry(parser.write(buffered));\n    this.manageActivatedDeactivated(target);\n  }\n\n\n  /**\n   * Manage which features has to activated or deactivated\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  manageActivatedDeactivated(target) {\n    let flag = false;\n    const elements = document.querySelectorAll('div.m-buffer button.activated');\n    if (elements && elements != null && elements.length && elements.length > 0) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        elementAux.classList.remove('activated');\n        flag = true;\n      }\n    }\n    return flag;\n  }\n\n\n  /**\n   * Remove all features and deactivated all tools\n   * @public\n   * @function\n   * @api stable\n   * @export\n   */\n  removeFeatures() {\n    this.editLayer.getSource().clear();\n    const elements = document.querySelectorAll('div.m-buffer button.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        elementAux.classList.remove('activated');\n      }\n    }\n    this.manageInteraction_(false, null, null);\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof BufferControl;\n  }\n}\n","export default class BufferLayerImpl extends M.impl.Layer {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a KML layer\n   * with parameters specified by the user\n   *\n   * @constructor\n   * @implements {M.impl.Layer}\n   * @param {Mx.parameters.LayerOptions} options custom options for this layer\n   * @api stable\n   */\n  constructor(layerOL) {\n    super();\n\n    this.layerOL = layerOL;\n  }\n\n  /**\n   * This function sets the map object of the layer\n   *\n   * @public\n   * @function\n   * @param {M.impl.Map} map\n   * @api stable\n   */\n  addTo(map) {\n    this.map = map;\n  }\n\n  destroy() {\n    const olMap = this.map.getMapImpl();\n\n    if (!M.utils.isNullOrEmpty(this.layerOL)) {\n      olMap.removeLayer(this.layerOL);\n      this.layerOL = null;\n    }\n    this.map = null;\n  }\n}\n","/**\n * @module M/layer/BufferLayer\n */\n\nimport BufferLayerImpl from 'impl/bufferLayerImpl';\nimport { getValue } from './i18n/language';\n\nexport default class BufferLayer extends M.Layer {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a Draw layer\n   * with parameters specified by the user\n   *\n   * @constructor\n   * @extends {M.Layer}\n   * @api stable\n   */\n  constructor(layer) {\n    const impl = new BufferLayerImpl(layer);\n\n    super({}, impl);\n\n    // checks if the implementation can create KML layers\n    if (M.utils.isUndefined(BufferLayerImpl)) {\n      M.exception(getValue('exception_layer'));\n    }\n\n    this.layer = layer;\n\n    this.type = 'BufferLayer';\n  }\n\n  /**\n   * This function checks if an object is equals\n   * to this layer\n   *\n   * @function\n   * @api\n   */\n  equals(obj) {\n    let equals = false;\n\n    if (obj instanceof BufferLayer) {\n      equals = this.name === obj.name;\n    }\n\n    return equals;\n  }\n}\n","/**\n * @module M/plugin/Buffer\n */\n\nimport 'assets/css/buffer';\nimport BufferControl from './buffercontrol';\nimport BufferLayer from './bufferLayer';\nimport api from '../../api';\nimport { getValue } from './i18n/language';\n\nexport default class Buffer extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the Plugin\n     * Posible values: TR | TL | BL | BR\n     * @type {Enum}\n     */\n    this.position_ = options.position || 'TL';\n\n    /**\n     * Option to allow the plugin to be collapsed or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsed_ = options.collapsed;\n    if (this.collapsed_ === undefined) this.collapsed_ = true;\n\n    /**\n     * Option to allow the plugin to be collapsible or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsible_ = options.collapsible;\n    if (this.collapsible_ === undefined) this.collapsible_ = true;\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    this.featuresEdit = new ol.Collection();\n    this.featureOverlay = new ol.layer.Vector({\n      source: new ol.source.Vector({ name: 'bufferLayer', features: this.featuresEdit }),\n      style: new ol.style.Style({\n        fill: new ol.style.Fill({ color: 'rgba(255, 255, 0, 0.2)' }),\n        stroke: new ol.style.Stroke({ color: 'rgb(48, 169, 146)', width: 3 }),\n        image: new ol.style.Circle({\n          radius: 7,\n          fill: new ol.style.Fill({ color: 'rgb(48, 169, 146)' }),\n        }),\n      }),\n    });\n    this.featureOverlay.setMap(this.map_.getMapImpl());\n\n    const layerAux = this.hasLayerBuffer_();\n    if (layerAux == null) {\n      this.bufferLayer = new BufferLayer(this.featureOverlay);\n      this.map_.addLayers(this.bufferLayer);\n    } else {\n      this.bufferLayer = layerAux;\n    }\n\n    this.control_ = new BufferControl(this.featureOverlay, this.featuresEdit);\n\n    this.panelTools_ = new M.ui.Panel('buffer', {\n      collapsed: this.collapsed_,\n      collapsible: this.collapsible_,\n      className: 'm-buffer',\n      collapsedButtonClass: 'g-cartografia-editar',\n      position: M.ui.position[this.position_],\n      tooltip: getValue('tooltip'),\n    });\n    this.panelTools_.addControls(this.control_);\n    this.map_.addPanels(this.panelTools_);\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.map_.removeControls(this.control_);\n    if (this.bufferLayer.getImpl().getOL3Layer()) {\n      this.bufferLayer.getImpl().getOL3Layer().getSource().clear(true);\n    }\n    this.control_.removeFeatures();\n    this.map_ = null;\n    this.control_ = null;\n    this.panelTools_ = null;\n    this.featuresEdit = null;\n    this.featureOverlay = null;\n  }\n\n  /**\n   * This function return the control of plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getControls() {\n    const aControl = [];\n    aControl.push(this.control_);\n    return aControl;\n  }\n\n  /**\n   * @getter\n   * @public\n   */\n  get name() {\n    return 'buffer';\n  }\n\n  /**\n   * This functions returns the controls of the plugin.\n   *\n   * @public\n   * @return {M.Control}\n   * @api\n   */\n  get control() {\n    return this.control_;\n  }\n\n  hasLayerBuffer_() {\n    const layers = this.map_.getLayers();\n    for (let i = 0; i < layers.length; i += 1) {\n      const layerAux = layers[i];\n      if (layerAux instanceof BufferLayer) {\n        return layerAux;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Get the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name_}=${this.position_}*${this.collapsed_}*${this.collapsible_}`;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n}\n","import M$plugin$Buffer from './/facade/js/buffer';\nimport M$layer$BufferLayer from './/facade/js/bufferLayer';\nimport M$impl$control$BufferControl from './/impl/ol/js/buffercontrolImpl';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.layer) window.M.layer = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Buffer = M$plugin$Buffer;\nwindow.M.layer.BufferLayer = M$layer$BufferLayer;\nwindow.M.impl.control.BufferControl = M$impl$control$BufferControl;\n"],"sourceRoot":""}